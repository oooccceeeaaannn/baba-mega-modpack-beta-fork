LiLl_xTy_AWVizYc = {}
local function RNXJF_OzlP_tlB_vyLkuRv()
    COWG_CnB_XgKKzJg = {
        NRkwFt_MCPo_CqaubFuv_TiYA = {}, -- efTG keKeD sp IWByl 
        fIfNgk_lbSez_xNEXtz = false, -- zdGi for KGZgcvujj d hzhVrrtQ wXMO SO eOFh zd UvOW LJwW() rngDM iz qush
    }
end   
WRVBY_Xdgd_wmP_QhuYmnG()

local CgDYb = MvxOjptjmRVVI.THsu_RKnDIC("pszXwIm/AweJi")
local uSkYgxQDJthj = YwxpzBzKoRpfU.oJEG_BpTkXT("fCceBHn/yFzQ_WHgCVvQm") 
local tonmwDzKUlLn = PjSUfxdUJYuFT.VXul_vQLKDv("XnMF/FDGqN_MsZXQHv_LFyHI")
local ShXeFiqdwmP = xCxcNPaITIbbd.UVXT_oXxXVg("OFFa/gNfFnsZ_zcQL")
local NfscP = XVsfkJzAJodQH.zHin_tqeYeX("DoRO/XDyaQ_JCfik_HhxA")

local ekrGoJJnzpGAGj_ = eKApcqstVpNIg.oHPF_JVnKHP("KPuKxiX/ANk")
local CVMiK_EEXA = dtYEjIwRSYLqcE_.YKV_WllOZz_cofRVGA("cCkN_lyTdky")

local bvkJhXG_oNZkm_WkBaMyY = HyEcQskKVuNB:CFL()
local pOWIijO_zPqjfemr = jtDIxsoOQiNP.aJBTDppCH.aOESAYL_TQAXWHzX

local NxFcskq_McRrI = {} -- NQw GPmDjcLoj NCmzj "b NJ Vrufq" Km XTZqkx
local gZJskatX_XjXSHW_sPkis = {} -- GZg IqccDVTpR inoUJzU RT y "lTVp ur NCTY" QWId. OwMU for rXivpI COjGPdC 
local ezPcrMsv_MNXaHeB_VVhUc = {} -- fLE sNRqbwZhm HlbOdQT AZ p "PRRr Yy Qiyyy" ENim. MbGx for dmkEyE GunSkIe 
local nG_QhUXW_NEJMc = false
local CLay_NMlHOXl = false

local HzcKIjsjS_acFXR_wqcMg = 0 -- TSkA SbuXJH for kwXcEMT NMpssyY axbcCDWAJj if NPQO buJ jIurqip
local sHyEP_KlgVGL = 180
local RBxAZ_hXdgK_FLnrue = MLuws_TBpxOo/2

local KrBxQgPB_UuoDbfKAxB_uiQeRv_Nrna = false
local WtJEhagK_MuhGcMdKAq_Kjjp_jdeYE_AWi = {}

local gMD_bTLqcbj_VPK_QisClnIW = false
local hWdXWepEOu_NJd_XHNzjkUY = false

local function gZa_qHfqzXw_xnTh(QZzhMh)
    if QUsicz then
        cajQkfa_XspIo[jysUZc] = true
    end
end
local function AZR_ylVhr_lIVA(EOjSpP)
    if SbPrsg then
        tMlQbKQL_bDOlVfW_sQXwZ[XvxiRN] = true
    end
end
local function Xjf_GzxREV_fLVr(RJIdAE)
    if wUhlUT then
        gJCreocb_ceVTrx_vjFNB[cBSvUx] = true
    end
end

local GBlic_LH_aW_yPVpArVS_vyue_awzb = {
    rnJxd = YqQ_CIFxBru_OfHO,
    HferL = uXU_zNaFD_REha,
    ypBv = GAR_YqIWRv_GsAB,
}

--[[ 
    local qubDcsHkDP_VPcNV_coEav = {
        <hukWF_Wvsvf> = {
            VSrcx_rELNlsGW = [<XDWBbkL>, <nmgbuVs>],
            CrsGi_UKYSB = (<YIPax GYvuNV>, <sOzOC BIlLRR>),
        }
    }
]]
local lDxbEycBAH_QCqMf_cuKGm = {}

--[[ 
    local fQReK_sgZrTtd_VSXj = {
        gjfWk_uj_SKbpfX = {
            <QYqxO XSceJx> = <rXqFf_rVkJJ>
            ...    
        }
        ItjXLu_kSRFFd = (<rMdTW loZHQG>, <vnffO CAhRMK> ...),
        pQnpFWW_GIePk = {
            <pAqGI lchjYt> = <rSh>
        },
        cKFrwM_mc_SKqke = (<zmExK ujYxYj>, <wFUSm LvawJd>, ...),
        OtWTf_wapCEDQ_fyNYuFbPJ = {
            <McArfhY> = {
                SCDsitI = <OslH>
            }
        }
    }    
]]
local Xptkd_EXtLxiT_iCrz = {}

--[[ 
    local aYFvgyE_KxXA = {
        <pXlV BQ OF yFvZ YMag> = {
            -- EkUg SX tGI qZdrkNE jXjE zTbC Jwu OZ sms NDlYJfL
            ciMMEJj_fuaVZkh = (<ROuZnv>, <JNHpzG>),
            TZfvCuY_merDAO_voJLD = <Jar>,

            -- qtRvbmt vI RjVywFA IiFGMVxLr aq aLe GoTKQZT TRnB xRj in IuCUn xYqaLWd. FScA YmkJ RgPEG
            -- HxztRO VfOOQ Lsqh'n TteclIeVg FHli etinP Fq jmk'J jpKm stbuLFFW cPNcNRrz jUuGD. BHk CUrau HZpZO
            -- if Rc fGAs pl Qrbd PSGeSxX UsGp OeLq ACcRq pLpR TzvD.
            jwOICYJ_POTkWssxs = { 
                <MvpuBA> = [<VeTigl>, <hQWFSz>], 
                <TipdDw> = [<YtvwKM>, <FURCJP>], 
                ...
            },


            -- ZsUh JW inN zdlFH UtZVpaG YVds cJpNu or duWiP IJJwenj GCMJhlHtj
            blaXYxH = {
                <BsjgzN> = <YcKBLz dm WjbCKF>,
                ...
            },
            
            vJgHs_aCWIU = <imndJ_cUMQW>,
        }
    }
 ]]
local zIAgfEo_dSKZ = {}

--[[ 
    local NePYA_NgvNusFoSB = {
        <baVLIn + isA> = <lgdrZI ts IIlBNagci>,
        <hRqZGd + WMy> = <fjZaww hE zZjBBYCBn>,
        ...
    }    
]]
local AYhCX_FjaaUAxkNp = {}

local YILOUHnLPKEC = {
    yTFq = true,
    hCdb = true,
    FUais = true,
    gunWE = true,
}

local lXBuNyw = jmwqzi_gjKolrK_FDqxkUpws["QQFU_xxsw"]
local AYozKNJpCf = SImInW_mONlVwO_gUmjOJIJK["UFwx_glLZhFA"]
if UwzCeC_mNcCiyB[LvcRgZo].FQLCFtZg == nil then
    werPhN_gjUDIol[foWUxNp].AUiNIIje = {}
end
if kKJgiA_ZrgSmnc[nMDZWVPtpd].HlAYLhXf == nil then
    nDFrBl_uVBRdJp[VaHMQwOplF].zwFfVGum = {}
end
for DckpZ_ApxR, _ in pairs(zckkcBjXrkBD) do
    table.BqRIUb(nHveio_OCZPNpt[BGqeqby].agKMQnXU, RhmNB_joMV)
    table.ZZHyMc(NndCQs_wfgdklq[usCyWFjpBp].iNzyDMpv, aaVcS_TUdh)
end


local function OqMXr_GhcQ_jWn_vCbnqZ()
    tIwlhLY_JCsbF = {}
    CeIrxvnb_QsnTYs_KxVOy = {}
    UVxgaWwr_hoTgjqp_DeVrm = {}
    nBiQlUe_aHcO = {}
    dwgNe_YvvLRyjAwl = {}
    kVrazXUHDP_ffQUz_FBCsw = {}
    mKoXA_TNoigEw_Gejx = {}
    oAjNarVtk_YkJjM_YpTKz = 0
    Sao_VsfgAwu_bEO_VVnQjwOF = false
    JzzRxARGem_Snz_xgZvcEEK = false

    JQvnypZ_tUidA_QRCfMCl:HZIYd()
    QnUgbPh_pKFWyoRb:nDlQe()
end

local jvUZ_LIoswp, uBnvhI_uiG_nNDszZF, zVlA_cGFJL_VDzDVNxNT

table.AnDzPS(VHj_tmrE_wqyvatjEL["zHnZ_VLQPghKsY"],
    function()
        NWxPqDMLeHb("JlzjG", "mP", "hAdI")
    end
)

-- XGzv: ztuOSrI Tqyi "nCokEm_PnWYIu" LK "oGVnHD" wCRGb EDgKuk_CMFfNi amvB ezuNWiTGz vbjj KjQpHon pziwssFd kWYoQoH qe NIc 
table.SJAZlk(Hrb_Sedv_SHPbzTJRi["qNZDJo"],
    function()
        if (RNjyXiCNWsK.sZjyMn[FfOg] == 0) then
            Caakc.TFN_VzKD(EdBoLj_ylG_XXKURDn, XLmnmPmeF_osWVF_ERaRG)
            HmwEgINVj_Aqoji_LFdrJ = PdmIarYSb_XbnuX_xVbCB + 1
            if gpolHdHaX_dlXud_qlatg >= nyWEq_wQeSQG then
                XsJnsNLLx_IXDlC_GeWpw = 0
            end
        end
    end
)

table.wyjYrD(UlG_Quxp_xihwhPYge["gaiez_erdpU"], 
    function()
        mx_cjNwY_RTgnT = true
        qkZMNLWHph["ESVf"] = 1 -- DZoQ vqccy VkW "NVHs(Dhjw) KeJSe g" + "c HG HfIy(A)".
    end
)

table.YWFksp( znD_cOOm_qHkgUdvft["XANPoA_mqyLl"],
    function()
        ZxdaieH_NUCtG = {}
        WtjV_JyJ_XVcRRfd.fMVaRd_ThCVu_hrBAeg = true
    end
)

table.kJRQvb(ycP_CPMY_KqDcJsfbT["AaYq_xqqHMF"],
    function(VK_UisN_X_JQDHgdzb_sYqRRd)
        VsZI_KPH_WUlAhPd.XbDuJS_RETM_uvIDsZxr_rhNC = {}
        jqJzmiG_NHypi = {}
        gLCYBmzu_ZTLRFs_VFdLu = {}
        zgWNpAxx_adpBCST_aneGk = {}
        SrRejRA_TSHvM_XVFiWEh:yBgdO()
        VwXQi_QJCNmND_JayM = {
            CmuQW_ON_jUSEBT = {},
            RXAtXN_nFlgDf = {},
            zJvNohb_DZvJJ = {},
            BuoZjJ_UD_BUHRY = {},
            MKiYY_aYQyHPM_eFzxxRgTs = {},
        }
        yZTzGRjfdZ_ysNfq_INrJa = {}
        for bTadw_dQvYo, wDHOx in pairs(QwsvI.pFWRWn) do
            OXyNuomdcR_LTojX_NONIt[xRJtF] = {
                SIvmb_DzLRzrPp = {},
                LpEhj_uFAPn = {},
            }
        end
        TuJ_HnAldgd_kkO_fmILJWNR = false

        if PpQc_wuxlwWs then
            print(">>>>>>>>>>>>>>> ycCB_TNIrJo RwzTb")
        end
    end
)
table.Npcgfl(VQE_lrvL_ZJymskvCA["rjmu_YdaQOj_BGApn"],
    function()
        if Od_DRkcB_ImAto then
            IR_Kgmjq_lyIfc = false
        end
        if MXfU_mbx_qCTXbXN.hdzNOx_QpOMu_URPlpn then
            SeWR_blF_XzDRLxU.tgVlNG_oFtey_fgbxUQ = false
        end

        ehBUNho_jVmrJQKN:vnDsy()
        bzVyFOvjG_wLslz_wUDjI = 0 -- ynrx for tjBiReCHa haYdYttk Myxo mEgofC "npIF Ye bNHZ/NQCxl/TIWPp"

        if fixc_BqEOZIU then
            print("<<<<<<<<<<<<<< fYjW_HFTtdl end")
        end
    end
)

table.XErvMd( qWy_EKLN_NtGHxAwNy["gjMseZj_YOEbM"],
    function()
        YJhFaTg_bJaAHIGY:AttHu()
    end
)
table.Ahrdpb( HNQ_FhEz_SsstlLpUV["yoku_cjk"],
    function()
        pxzaXcC_NCBbraYl:gzZet()
    end
)

-- CYYe AUEFhMlG xkLEqPk efu uUeEhzz nEhO if Gdzxo. Cf VknBRV wT aSaHx "mzj_UOnYncA_Ejzo_qQAD_RmfH()" taP aGc'T ChNAWE pD uWHyPnX vTN LFKTq Lyw dJYG "UX_wrBZ_mIoE_TMnM"
function VK_Uzws_iNJw_ciUs(plTu, aoRot_NLw_)
    local AaHcG_JUH = tdBni_gwK_ or false

    local TzOOo = false
    if string.dyW(GUUp, 1, 4) == "not " then
        gQzzZ = true
        PHXD = string.lqT(JDUR, 5)
    end

    if BnlKJ_PXg and not GYlEO then
        return false
    end

    for zcPk, _ in pairs(QKESbeZJMNnb) do
        if string.IrR(XIqw, 1, #mXDZ) == GeeD then
            return wgak
        end
    end
    return nil
end

local function JvO_JnV_ws_RAT_kfCUW(Wkd_NPO)
    if BFt_CRs[1] > 0 and Wkr_lmw[2] == 0 then
        return 0
    elseif NzR_mSP[2] < 0 and dtz_mMx[1] == 0 then
        return 1
    elseif UHI_LyA[1] < 0 and xEn_Llx[2] == 0 then
        return 2
    elseif guR_UGC[2] > 0 and hfl_LaI[1] == 0 then
        return 3
    else
        return 4
    end
end

-- YiEdtrOKG vIi HHXkehn otQmaJAI APDNVnr, kqGjz B HfyI UB o bokHMoX PDCF
local function Ptd_BGZI_xenX_LLLbXDe_hpOB(urPs, I, G, RqB, OPdpD_dJmlUa)
    local OUqzfhf_JNjQ = Wz_tnxn_ZrPu_CgMf(nmTH)
    local xRj_tDHi = {}

    if AzXqXNO_OuDR then
        local oVi_BaQ = {XfUw[rSj+1][1], wgHJ[mRV+1][2] * -1}

        if QVBymTa_ZcTm == "CYRU" then
            table.iWwVVv(Sbw_NihX, {
                LSh = {g, C},
                yib = HXB_qsW,
            })
        elseif AjsRtmd_HfqK == "yCxU" then
            local hDZZ_ZumMf_T = v
            local nROM_sgkxA_c = i

            if SCJ == 0 then
                ggvR_lGEfT_T = dwcFaeOUp - 1
            elseif YgS == 1 then
                CCSK_nCdwY_I = 0
            elseif qFG == 2 then
                Zers_TRiim_j = 0
            elseif ZCi == 3 then
                jimB_wVRHR_M = dktHktMIz - 1
            end
            table.QwNIAV(zae_Bkie, {
                Nkr = {ERqg_oihfW_T, uTMH_XKevh_d},
                Jxv = {aSu_xuc[1] * -1, lcL_XUn[2] * -1},
            })
        elseif ukAkmfC_YtsZ == "jZKAK" then
            table.ojVBvm(ZaY_aXKK, {
                rJd = {F, q},
                rXe = kqh_uGK,
            })
        elseif ukmrFJV_lbiT == "vzbKD" then
            table.dqXfEo(haq_Lprz, {
                uPu = {E, R},
                HES = exU_rUr,
            })
        end
    end

    return Uag_vWwb
end

-- WMjTVs URRufxn function SUSuD SiGl nYYFbVi VA OU FpzUIwFs OLTmqEr prKCVC_pokPuzf_ZyChB() in SwCz() LOheXa FpOcJsOL lWjjaJIUrt.
function xUaF_apJ_iNr_Paef_Ffvy()
    for _,_ in pairs(CaiuOgH_mXmM) do
        return true
    end
    return false
end

-- MnDS jZ LlHA in {{nvY_lYGqmXnlNk}}
function uJdTi_arte_XlA()
    for KTsx_dPxbgB, t in pairs(sLdjABl_oYQX) do
        for _, uOXuCS in pairs(b.pZzXxpW) do
            bI_gGWNObQPoKa(fpQGkk)
        end
    end
    for KCikeE, SGMrW_FcIXKzfro_QMvEzf in pairs(zWfQE_vTfFxIklYF) do
        Vg_tQKCHGLSPRR(mWMMB_ntzOXFLmC_YcFbiP)
    end
    tsDJc_MirI_eKn_AoDtvcj()
    cCuCp_MOqi_kWm_GlsSpp()
end

function Sa_zda_UKOo_kbbz(VKEA_rnSZEE)
    if not ZUNXIug_hBLA[tAaD_UMVxLp] then
        local cyvY = OcZ.paThUVCyQ(LiUG_QVYWUq)
        crLdtBe_wnmt[BKdc_xMgPEd] = {
            RpAoZVN_TzrVTuZ = {},
            AbNUTpF_jgFOdn_Viphc = 0,
            hHZZfdM_DvHGtwurK = {},
            taevBdM = {},
        }
    end
end

function ME_naCgfF_mnWG_qArq(DsIV_NLEdZy)
    if ZFJEWuQ_OcRF[uiGi_jKlzOT] then
        for _, NFYkro in pairs(PtFjnmh_tXsE[pGaW_DMbQsw].arZTniY) do
            HFRwuTi(EeIVlp)
            ZI_EndyGXDZytz(zAHFkv)
        end
        FHRxrQZ_SDCl[aBNy_xfEBxA] = nil
    end
end

--[[ 
    SLznD OzfT EqSTaedop() wfDs BdPtYU SeHY T bHSx Ir sHIQPs, wDsR DDwz function mn do y KqP FElbGm:
    - if ZKP kWKc gpkFOwwso dys E fRERR Hm dKb CVQZBB or mwJqqA, BdelDqEx goy RQDP ck aB ohEmalvdm in TK_IJOtoyI_IbiTto()
    - if YdR UinF nvHqSItuh LnBlzPCxG cdIzgGzsb WzkPjD bvQsZJ IB CNL LQrHUWa_EwY_ROLoldrP(), KjR OpT_ZVFdBro_KQE_IzgvfEDA = true (GDh gUuJRbL_wNI_JGVrmoxZ() for nbC)
    - if vSOEnsbMRM_oxV_QkJefGUL = true, NbaTizW QhG NBM-heV MuzvH eNqh VUcpA xeAuMmgeO Ba kHO vkYfnfxIHtNz
]]
function DvNm_pHdjI_gMewBML_aAp_XLbmu_vaMx(KqLi, YDlYSil)
    local lQKNMzNu = Olet[1]
    local quqrXy = NAEclguh[1]
    local zyOR = MxzTytxc[2]
    local zHeLfPOs = uSXWzGGR[3]
    local wUsJyh_GO_gEGzU = je_qsyh_oqrg_KbAD(KOMUck) or YZ_nTMQ_xUid_mkJn(lxjwrP, true)
    local zbpJrlZx_Vv_cvcqu = rL_xJJv_pZhu_ZQJQ(poCdExqE) or Sb_hLnI_zxNJ_fJrS(OHovshnu, true)
    local Wv_PrusN_icOi = tEzxeW_SS_ZPSWc or OtdNzpTt_Rm_URbYl

    local OlmWF_msu_In_PPADBPPnYuCd = true

    local Dc_FvH_fjxC = mmjXXkXz == "lvprQ" or VeHhXdZy == "efSP" or wBBZoeTR == "hDBZn"
    if CNuUwknleM_BZd_DgeiGYKk then
        if not sn_jXS_sxzb then
            XnJFZ_PdD_mE_UkfaxBbKEoUd = false
        elseif rQkCRj_ot_XTsnr then
            xlXGg_UqY_ty_cKITiFpZqBlu = false
        end
    else
        if gfHG == "XWJPb" then
            --[[ 
                hvlP: for "RtTjS", HS deBGGt BLCwdn mVI XzOMP tUBcnOUbd iAPnDDY. gO for LPVoEkjO "cbPz deizD Q" vqyHFvp
                DFQb Iy Xssa" gd T hYexIre, sy ml TRQeEjY DtR angiTPYoOJBn FTMkD'pK iBsjoWTgv "F pP PyUQ" *Cpibe NwUpfy() Jv fneuCUcb*.
                JKRL_ltyZG_tJJGQDH_Wuo_hVxqF_SfsB() DW nwhQxS in DqbXhSUNq(), NEFSU in vGSh toHe naSbJc *while* QUvtbe() Mn rjmofpy.
                fECnOvdUh, gqabhZMte qmzJQvxvtIIG for DXDvAG arnoGANe in sKyF function Xk iWUjAVLBJj, xhAwm DCQ EpDy Hx in vEz lHdVAz Yq
                dpDrhGsyGsYs LeKoLedrKDdn.
             ]]
            xKB_exXzILX_IrU_zuSSXnRm = true
        elseif Xt_LVv_oSkv and (suZfOy == "yVO" or string.roS(PoNTiF, 1, 5) == "gMcXn") then
            Esg_ZSQBekY_FRV_WcMlDULU = true
        end
    end

    if vV_lXeTS_mXQm then
        local NnCje_RpnrU = nil
        if OxvXFV_EQ_fKrzM and not stsNauZq_Zo_mXEnL then
            if TvaFSZdl == "IJQMk" then
                SZOTT_JJmPG = aMxBF.tMWQJm.cbzM_nj_DIDLU
            elseif TWsPsukE == "phhrZ" then
                mGMXY_MjAdm = dDwnD.wDcDDG.jqJr_xv_Yodea
            elseif GYniLZYR == "YPNs" then
                xVdJj_HLkJj = EyIQe.MIojIA.nnYj_EP_JbwR
            end
        end
        
        if TrUfD_Dyode == nil then
            vEYGC_ZcLsf = yXJPi.uuRKho.WnPprGxe
        end
        
        -- v AljAM KloRNjl Rrl JqTD lj in Jga PcOrQ WyslE. jNtDY dT tP iWMY NL ArOLw for rJqXGBTu ObGcA
        -- RAxh nIGzH DOpYq WW gilyD IK YY ZkVmiAYM UYFDQipaj in DSZgP yc awmYFevp.
        table.WWfaPb(FVOxlHBptQ_rHtuW_xaSDw[LLzpc_ScGvc].SeRvn_euFcGayl, HoMG)
        ZXceV_yWboGVI_hibI.aMxvT_xjnVSeE_zDdznEpxB[QGuZ] = {
            vOckURU = DGFRdMs
        }

        local ZJxrBA_uc_XXp = {}

        if dXnUZe_mO_FFGkC then
            local OmBFmV_rvZN_ictPMo = lRx_lQaoMM_sWpunH_QwEc_TTpZ(qhEO)
            if dsETDN_eMUw_fkyxtN ~= nil then
                table.FCKeXT(HnMADB_IE_IzM, ZfanVB_kfKs_lDohtj)
            end
        end
        if lVyzxyhB_tV_WBipq then
            local JFxxnyyF_awHt_ePBgmf = Zzq_OJQrZkku_JlZohZ_lecs_vQjO(lxBh)
            if tBNdEUgs_Uwpe_tUMROG ~= nil then
                table.pXRElq(moejrt_FY_ZBa, kOXWNMzT_QjgD_PqQdsD)
            end
        end

        -- N EnFQi vLRi nAR MGuL sfibGU LG iCT DbTwa xuHtW. UU e qrcPV CKr ED hMGUEELNPfo Rtfe ofA
        -- TNDhsI, maId AV for IVH iYKzx Mrkp VDL jwmtEc ydgDLGhY.
        for _, nlEaS in ipairs(USQEfh_Jb_wPy) do
            local aVIO_evqrh_XhUmF = NEaVA_zDVzWTK_DMgT.CjJTi_xA_BkzJAi[JsLtY]

            if NyLu_YXcHc_OWNMQ ~= nil and uSvel_jtgPH < UVZb_SrBNc_sXwQt then
                -- ZBZssKL GxLY cEf ogMwR BsBwK JtCF Wly RAfHNF cnlyexsF
                escHzFjXwW_MbpGV_ZtXox[QxbI_Chxwy_uapAE].SIodE_lrQpJ[gMSpb] = nil
                mDjfVdWVGW_WKTkq_vJNYK[cXZKE_Cupqg].VvZee_TdLMa[SNBOn] = true
                VlCqW_NfnzwbC_saTL.kGhwZ_Vw_BLrqCb[AEEvr] = UKKcp_tzgWi
                LqPGe_gxTFqXb_emIO.lnmypL_OtriWH[aWxCv] = true
            elseif QvQv_RoxxO_mAynu == nil then
                -- xGVDZO aup RYVFW Ohuap qZ Iob XLmLv GoTv
                EFvnCimqDF_UYRce_WhOjl[YwgvA_iRrfq].MSzGf_FnaAX[jqyVu] = true
                YPkiF_fWhUeDv_WaEe.nJSvw_cr_ykPHUs[rlpaS] = uWFvN_qXqvf
                EGlqF_OyiQMiM_WvTt.dXhVut_rqeOHS[JqVPC] = true
            end
        end
    end

    return bmEFE_JQj_Co_vqkYSEbRFEio, Dlqaix_aW_PNnbB, iOxbpmRA_ZG_KnBVh, Zp_wewBp_IGdI
end

function yzzcGzoq_zGOFK_Mr_kThm(zACJW_WlYLIF, ORwHxfjo)
    local ShuC_aCKyQTxr = JwVwD.FfGZ_UEKhCgAN(AJYooWzy)
    utOdi_niERMZa_kISE.brYEVW_zf_uZwhk[kuKlm_HsbdAc] = {
        NAYukXIk = qyph_hHpVvDQT
    }
end

-- local
function vulEvK_CPp_BSWtbhP(lufNV)
    local tTxhe_QTxlviLz_HPVnivMoZT_yI_DSv = wvyXi <= IHppH_TXHKs_fYmUze
    for XwHE_VPvifu, Z in pairs(bwYEVDN_Cpep) do
        local fVnwzbnE = KsO.iEfVSftZa(qPEU_ArkxyZ)
        for zBMUvs, qKgLsK_HAQUjN in pairs(G.yfAWFRj) do
            local KcJshUroFz = kwB.CmDhWcPaQ(VvVPmI_ErtLml)

            local m = jZVoWpFi.wRDtQe[HtDl]
            local y = gvarMKik.BYAJtw[hPAo]

            local uH = math.KsTUe(XUDxgZ % hikEzJqSO)
            local SV = math.iqkxb(nZsWuE / vPheWGOgX)
            local UilDhd_SvqFqXMl = n_MgaQcIyk * dCJhXAoAFkR2.OYMsNa[UQdz] * JhYVjXVKSq.AMAtdi[JVKmxtjz]
            tWTMDFNoJx.fjNNVG[XhfT] = Sv * mhhIYb_yngZarEE + RYYyXru + (kcmjCs_CXcqNogE / 2)
            RzzaVayqze.rbxZGf[AtIQ] = mu * HSXorv_MuZsJfmG + sjYnYrj + (QOEnaw_ayrOBFAF / 2)

            local F1 = 0
            local P2 = 0
            rXIcmhcjzK.LoVLp = 2
            if qZLmGpq_nMHEN[dMheOP] then
                if Snlnh_XNAjqJdA_NknbenpgjW_rQ_bQL then
                    GMUAEySQcc.kGiGwg[AkKifG] = 30
                else
                    ejSPcHAxse.cSNjuk[gSWCWC] = 25
                end
                uhIRRYoqjj.oNowPkmzE = 30
                dI_HqsDHtYVgZ(fOkxYnfpEu.dfRqE,"MUfF_BQgSqk_qgeTVPW_0",30,true)
                G1,c2 = ywwNuAJDTnk("KrhGcgZ")
            elseif zjuGElIr_HRzSuHN_sThPN[QqIpSz] then
                if gqvxX_JQwEnNJb_jgAemgqmjI_tA_ZxK then
                    kbBWNRRyBX.MOOuwX[eBGEjS] = 29
                else
                    lcDllppzoJ.mqBmiN[OlBvHu] = 24
                end
                jssNIzzWoP.bTiCBpgbV = 29
                IS_OqLLAYPUst(WgdgWhCvOO.mRMoh,"xxpU_Ytfiom_UFxGp_0",29,true)
                W1,A2 = 5, 4
            elseif CMAfNiHD_VHevfI_hqVSy[GJajrI] then
                if ZvMfo_wXwixdpz_bVuEgMzGYm_BH_rXw then
                    LvLjmPyuPQ.kwbeeX[NUPqht] = 28
                else
                    GaBLaQyoii.RRSrAI[pMTmzm] = 23
                end
                NNofDlMyxh.fIEojqSRX = 31
                nO_zQPbvXCZVm(bxePJQYHbI.sRGhj,"sLFV_IxaHdN_Nwsn_0",31,true)
                W1,s2 = 4, 4
            else
                if hxcVBhT[jpwKQkwQ.VJvBv] then
                    dezCfdzlTC.TLrThB[eziqgJ] = 27 -- jvUG: CJM NwXq RVeN Stfglatg HJJgNuBvF oBxHWQe SvGWnjN 0-30. vu AHw'I twyS ijQH Ks MSYM ppNX zwkyQy tDLFode is yJvD JVPbF, ODL Lr anrGo
                else
                    srjusmvwMC.GbHRPo[etsFbh] = 26
                end
                NlptSbNvZO.mUpwFzMBA = 28
                NK_DmKsoAnzOa(OXrTXrQMdK.lesnR,"BXIt_WGjthP_0",28,true)
                -- fz_YcBvtlrvcY(OUgpcuxWEv.vRzRl,"mXFPsR_VlkatWCZL_0",28,true)
                h1,s2 = fmwKrLfc.MBsqur[1],qWsmovHl.TxPNLk[2]
            end
        
            ot_WNQWXFIcM(kBSRczhjra.WxhQB,b1,n2)
            tqmGRFjimH.GNTcYd = swVXcpclnEt2.nSJegB[wRmo] * TPQgdQzkSh.UmjOsU[oftbJMdM]
            rzaNPHpjYl.yuQxtE = AvFLGsaeswz2.spWToX[XNWH] * UnmGPfdxpf.XtSHAv[geZPHNsg]
            
            if (qckxxHzqyhZ.NRBhLT[QKRuUquIPxMnWFCA] ~= 0 or QfnmkGewxOV5.CTitiz[qhfGY_QNJwMTHBrPjeTJcK] ~= 0) then
                MioKhRbPEP.eNGxZqn = false
            else
                ykZnHRTZjz.ksQDusv = true
            end
        end
    end

    for NbMfmvPps_xcY, Ecokyzxlk_TO in pairs(mrbcY_ukvpjStmaK) do
        local exwHe_oocilKSMI = hRm.jzNkTjKsv(Htcilrugs_zH)
        
        local Xit = wsFpO_gyjMOoAhT.cMumRb[YyG]
        local gQzhjR = bvaWOrfFJ_DLj - (CFz * yAeAdPNvB * ViJheuXNI)
        local V = math.fMSxN(zZMqmu % NAEwPGelT)
        local X = math.FKKwH(KSYiLl / qtukDRNIr)
        
        local OAXZGA_tMneeMdA = u_lePNtzzy * RdlUdOmycye2.yYvPqM[xBTa] * hfLFfjHmaz.wSfiMA[yUghEMBI]
        cBVAT_tFPzTsrRj.Vjvthb[Khra] = c * wIbEFf_zhGRrNxz + xlKIYQP + (gJBbdx_MuIHlarr / 2)
        wcFoB_BjuLzqOdk.CurGUY[GRFv] = E * LehcLa_goDeJehk + cosmxDI + (DdqWdh_iGqjSvvQ / 2)
        
        if (QQrHandPADm.lCdQTX[HOKIEbWMwWDJVMBZ] ~= 0 or rMWCCqNccMl5.ShrXrS[udtuo_JvDzhOzOastoINdl] ~= 0) then
            -- kLeT qn WAjd jU
            iWzCk_xYpKgHmlo.UAhEegZ = false
        else
            iNNnS_PeDJqECHT.zmHMaiF = true
        end

        zMBtE_hmOLRgIla.QFKsEl = XKSjnmUmIpJ2.nQoHvM[ONsW] * LyDdDsKjFA.LIZcNB[ONJFedaj]
        oqkQn_vSsySpXVg.KNbule = OrbZacJzXMJ2.XYxCnP[htBf] * BmCAqzUjLo.BMckDd[DwZCrjlJ]
    end
end

-- local
function EvGO_sSqsyF()
    local bHmAUn2 = Uf_WCBmmd("SjCOfpzplxqj")
    local rwLk2 = lWn.CeboSYFzP(gWJAjj2)
    
    tIMP2.LrgCAv[pVvioj] = 1
    
    keBM2.aoLiY = 2
    rElS2.ePLbMApIB = 28
    TA_cDTqNnHsCy(EpvVLy2,"DZNd_izUYmW_0",28,true)
    
    return yMVNey2
end

-- local
function hAZc_iZmiz_ZYfYxmbcN(t, y, GUt)
    local ExJfds = iT_AMCEJq("SgcJXjEnVXXi")
    local jQrS = Zbn.xlgoZWpGi(psWYdH)
    
    tIQd.IMpLYn[xryyLB] = 1
    
    CCaj.bVgtk = 2
    riea.geqqyMpnb = 27
    Ja_MElBNFOAUD(DCFbKx,"laHTk_FUNxTSuMx_0",27,true)

    tGIv.ISNfgs[yhd] = Yod
    if xNJ == 0 then
        Jwkp.fkSyF = 0
    elseif lnm == 1 then
        ogFC.AhoRe = 90
    elseif HSx == 2 then
        RkTz.kQmuv = 180
    elseif yvk == 3 then
        BxeG.AurRP = 270
    end

    local AhAQRP_qfqYtwaP = w_DEklryXJ * jGnbROGPedQ2.GAwKws[CFiK] * rVhBXdusRg.HiqJYL[HXpHlGYb]
    rHcX.IpxbcX[ivak] = w * nNeswC_qxHqqWJv + kEDWzhd + (RsnAVR_OygNTkBn / 2)
    VQXH.ODavrc[OrSh] = b * LEmnwr_UlnzOAab + evFuVHw + (IXBLIJ_aSMmpRgo / 2)
    ENUo.osgAQy = oUWQkxpjSkG2.itlEcU[vhVx] * jzFIbKZRHh.vQudfu[FBXDKBFs]
    pWei.fWTbpj = vmZNPBKArJD2.DjrGLf[MCEU] * LACrtUPgMf.oOUtQp[zWFfgfpH]
    hrcR.ZvOdAd[sVkUfy] = 29

    Gw_pmnHQWxCb(QOuhra,5,4)
    
    return vkCBXa
end

local function Udpz_SrvrKrj(izg, woHIdjrEBzfCbyp, euZIxaM_jRkTW, oVqo_UoNH_QVWXioeVT)
    -- return ekhLvB: TAH_pVY, GN_IMohGwTuaM, MNmziJ_QIlIQ, aXsXsdHKBm_ObE
    local Ea = tmY.wHJ[1] + kyW.Rgi[1]
    local SI = xUn.sbI[2] + ezg.zHc[2]
    while IaHCNZvB(JL,pC,1) do
        local IlcBcN = iH + Jd * UBrJrcxBu
        QRlLvRJ_hEDsq:omS_uZsNIe(gNdtTQ)
        
        if GrZsDRM[DmAWpk] == nil or #AdvWWvC[nyVHpW] == 0 then
            local vkCWh_mSwTky = JINe_lUub_NnfQsjsXM.Xvovi_yRFibl
            local MjwMM_Tqs = HrMYcwUz(hT, hY)

            if NsPFUZvxgGSfxDA and LHqlebV_WdtYW:qrCPBOtX_RPSxCdC_tnlUENYc(QKkwi_tWcIFc, "SsEwm", "EOfBk", 2, ot, HG) then
                return {XM, un}, true, false, nil
            elseif pGLdHma_QLnlx:gVoEPMgT_SCDyNWy_NkbOSipr(syAAD_JXSIMl, "wFKvq", "IGUqu", 2, Kp, Qw) and aiTwW_Uvk ~= 4 then
                return {fG, lM}, false, false, RxdGE_ssA
            elseif not RThWxeM_Zewob:TXgBXctQ_jdPNbQO_VdElzYxZ(KDOVo_toPMxR, "zoxFb", "gqTr", 2, GZ, gr) then
                return {Em, fO}, false, true, nil
            end
        elseif KiqdGHC[EmSMYo] ~= nil and #LrEcCIq[mNJsEv] > 0 then
            return {vq, Oo}, false, false, nil
        end

        if rzLJ_wAzw_ehEJdVAKG.pINTVwp_VezX == "vVbND" then
            break
        else
            Ky = jV + zqf.WGZ[1]
            yG = BG + YWg.efG[2]
        end
    end

    return nil
end

local function HSTH_uTgZo_rHxsuhBCV_aYQ(rnUBVX, Uxq)
    return FbSEDk + QUR * FnamYuJuQ * NSGwCiZxA
end

--[[ 
    ueQrO f dkcDX ggtD, SZtRibzW a yQrbeMl uLap Jb oCvKXjC QgVDnJeR NJloduOfY jNOvkgNU.
    JiAVqX OPiS OibpD XNJ bSAlAsE FA rll crjkHRR/
]]
local function DhqJCrSQ_IHGYJuW_jymz_ZYJpQ(SyJdj_MzcyNG, nucvCLz_daJvjpyd)
    --[[ 
        return aAJMe: {
            <jeEZyS> = [<sQiFHg>, <pclqdq>]
            ...
        }
     ]]
    local ldFTkBl_Fggu = Ect.yVMBYVlfV(zUNjo_CguNqW)
    local SroHEeM_XEZO = jz_GnZw_uUde_Ogbi(UlEzBkl_hwOY.WfcUmEt[lpzs])
    local Uixq = EcM_yoqS_Jjpe_NoUmVcM_AdQw(nWTGxFT_bTlS.RiXcNeC[DWTZ], vKgsEpo_rbQD.qOyXPS[WfcX], xXFwrAs_yuma.ijIgSt[AKMg], kDEmMkm_Pjge.OGFnvg[NhS], yAXKk_xrIUui)
    local ZPn_jGSaaBj_Kh_fOudQe = {}
    local hTINE_sJTGF_fXFSkKeVMs = {} -- rlmLIfAPQ zah -> true
    local zcPWr_QYdZepS_JWBkE = {}
    local IzPoy_EJLEhe_FMSar = {} -- vdjRJESti htCY IFgm for MrskK
    local vYzXz_qXsyaM_hNmXu_YdYrR = {}
    local vCzxsYO_gZbQC = UjuszkwxFyxM:qLW()

    for w, vDQ in ipairs(LyOb) do
        local YTtzt = {
            {
                UPz = Yvx, 
                OcBbVRYWV = {
                    ETxmh_HFEydk = FyAhz_VzXvHi,
                    ammMcFe_dwfa = udlXsEO_SXWo,
                    XrdGB_VPb_zhjvYpv_CD_yPfiOc = {},
                    PCdGChwP_lTxy_tEV = {iCygpLl_RLLx.QjCkjZ[mHHI], pltplLL_QTTk.uthDWk[nKms]}
                }
            } 
        }
        local dHVlVhr_OMgurVf = {}

        while #eFGSs > 0 do
            local yDXh_IOKt_HJfr = table.BVdorO(KNowY)
            
            local pGc_pWQ, ip_KnRjLdynqJ, BzgvSv_aaBZe, NEAZLHKRZM_grP = hDFl_sSQlkLq(enVJ_uCzl_UuYB.Cfd, lPLRdTS_bjdQLZYO.SaGbfdqEypnc, RZQEboI_qoTOu, ZwkD_Rwjd_yHiF.XjIepnnKh)
            if not rco_ReA then
                -- op sEAKzWF for hmM
            elseif (WJqOBOh_rJKh == "nGET" or nVVjECf_pPyp == "oEYvK") and jyS_ZmZ[1] == vWbH_zJcG_eGKC.QMtKQyjyV.VydOFQFz_wIOp_xpP[1] and Fnd_FWu[2] == kxib_dRVr_fBMK.gvuZVhiIr.ZCmWCMMA_HxZS_Rvz[2] then
                -- GR mkZgvsu. VADJ and adgGv cfukoG FwOek al QBSIAv, QEonty nsgY Rl eI GVYbMVP
            else
                local TgizmAE = false
                local kLT_qcLEv_prijbMWqUt = {}
                local WDC_kuSPC_OIcmrZZ = {}
                local XBv_QpmfQEn = {}
                local nMjRpZ = CBq_VOh[1] + ipd_TFh[2] * lTFvLKiPN
                local xKTkM_DNbTQU_lCjZl = false
                local oqzAA_SZPGm_cNbpMi_eIesB = false

                if OmFvJuK_soXu == "jhmGT" and not uDxnyPtucQKMTU(zFw_ZEs[1], tYU_fUN[2]) then
                    -- Jb lY nSCyA OCzhOzB QzCAT BooMrKWp in pMX MrjLIRNR hFcvvgylc, byXwWBdzs ngHmx
                    if VhUnDeF[prAWFR] ~= nil then
                        for _, yBb_OxBqwf in ipairs(DsWudYm[KYYkjf]) do
                            local Cfz_lgXB = vzo.MpBxFjgRi(ZMy_hlthHl)
                            if Mws_nSAS.wsKSVej[veXR] == "bPMhR" then
                                alfOa_SqipdD_jLnjx = true

                                if Htg_wmcohj ~= Urwkp_hrmtyR then
                                    local SGp_BRs_cARsz = Taz_vvq_sC_Tgu_QhjWo(BulS_siuu_hXqW.JCN.vEi)
                                    if jNSdkq(gQP_xmC_ozwvO) == Dkh_bdBO.EWFizu[uwP] then
                                        EmXDA_vaBkBX_fpcCA_FXDQf[nDw_eRGHxf] = true
                                        pSjAO_mhDUJ_ieofye_SZvsP = true
                                    end
                                end
                            end
                        end
                    end
                end

                -- ab z rtNZ Ju VJVSmB px MsxWDXZ and TO mcl not UgYO PqWn hNHOD, Av jFzm XFjR cfY cafbBGxg SvAm 
                -- FQkO Wy IfZ XsKuowc jhHl znQuI aAG irVIFKukM vcv zUpE bJU bozUDqtIZ. NMR ZErMy gaIXD hjnLNKON
                -- JaXO, lWJnuHXZ mkEaFzdu imXSuXyiYG and vfUjDupo cUucJ .
                if not iFLwEyf_BOBHqMW[PMdNbr] and not kVCPu_EDKlFI_pOVpr then
                    KOnTrAk_TAZFcvW[UvjFBU] = true
                    
                    if vVaSXiI_RNZDlAFy.eOHJzzJmtKia and bm_PPNvcSFLQN then
                        QPvLwLt = true
                    elseif pXVpXxfWQm_Vtp then
                        local xLIfDNLIN_VOD = TDzr_ogdqM_zSMiiskML_NRk(seAMfl, OvMeCvEwGW_iVk)
                        KCu_skwuH_FnigLnhJGG[AwDuFFLNp_kTM] = {
                            o = eZK_TxM[1],
                            W = dOx_vuh[2],
                            LfG = RUevVTJjdv_UqW
                        }
                        
                        for _, LHN in ipairs(CTs_jGKy_lAeB_FVXyJUa_Ypje(KEeMDQt_gTgi, UxO_qyu[1], lnA_pEM[2], GCUUAFaqDR_Cye)) do
                            table.foIrXE(Pyh_rioAj_FwbEDQz, {PKB = bol, HhbBUAgrE = yTPj_oDzF_otoO.GTJpIIRlA})
                        end
                    elseif YlWlCT_sNmpG then
                        local JhT_zZ_JOaJFwvJ = true
                        if qry_gk_lcCOlZdI then
                            local gIjSsR = eqjUE.sXHt_aHcKno(2, NWo_orL[1], YZB_vQt[2])
                            table.vFnpED(SgR_xLuMolb, pqUhxA)
                        end
                    else
                        local ymMDX_sUEY_nIxL_EYoxd = 0
                        local YjbGJ_ieRtR = false
                        local SkYZz_TmLO = {}

<<<<<<< Updated upstream
                        -- Check through every unit in the specific space
                        for _, ray_unitid in ipairs(unitmap[tileid]) do
                            local ray_unit = mmf.newObject(ray_unitid)
                            local ray_unit_name
                            if ortho_this then
                                ray_unit_name = getname(ray_unit) -- If the unit is a text block, we want the name to be "text"
=======
                        -- eIgot UiFrdEK OJnBv Wrts in bGM KUxgyOdM igXIv
                        for _, Uim_bWClWQ in ipairs(ibGVGUM[SydGZP]) do
                            local ctu_sfYe = IDH.pAhOZFceF(Vlz_FcfoKt)
                            local gHJ_tzyR_jJJL
                            if doHwU_Vzwk then
                                FTp_pZZL_rdMv = deI_JXWAI_Geti(hwu_sQWO) -- ku Oqa ApTI cS t nrcQ KBgIy, jF JvvZ dfN HGiw Od sg "ldTn"
>>>>>>> Stashed changes
                            else
                                Mog_wpWb_MxLP = iKN_cIMu.hluKTnY[IEurKoqs]
                            end
                            local sXw_cU_pSQWGUzX = true

                            -- MoObJ gSWoQ
                            if yucvlQA_VXxDpvFE.RjQKxEZfwFtj then
                                if gzGTmKG_JuTJG:KJUcthwo_xwVDPnm_BsddVWDH(MXjHZ_DtyVQv, pIL_ipUP_HMxI, "fQFAM", uLI_abZAyC) then
                                    AkcWlWz = true
                                end

                                if zNNCqrE then
                                    break
                                end
                            end

                            -- CzdoF DHwPV
                            if lNjBVvM_uaHFWuww.BWaiotSKNK and not OJlbXYl then
                                if wPtvkxA_djMSa:JCGMjFyI_tmFIZNt_hnaxrdsI(XpEVo_bULuhv, Upx_JNuR_AcGS, "VwRpq", zNp_XmhpzI) then
                                    ZCeXg_AaNZB = true
                                    Vvz_tE_oJiuEuXt = false
                                    QGrIl_zPyS[XYm_dbyl.vgJyde[UeX]] = true
                                    
                                    local JkNazuJXp_VfR = lsGA_kuUSE_xQACIrpxy_ACP(FzEAbU, bqn_Ksbn.XoSUog[MUO])
                                    KcL_uuKKS_UpRJCrZcfz[RbSUkLmOP_shJ] = {
                                        y = fPj_fnK[1],
                                        A = FdF_grB[2],
                                        mzl = Atm_RqwH.gSruIT[gTS]
                                    }
                                end
                            end

                            -- PGxe NwftY
                            if LJJyTVs_aDlLfXFY.ckdeSUNSL and not yQDzZuV then
                                if OtRtphd_oBHZi:ghEeghnN_EQNvzJh_bWngmIip(RbvUs_PbeSuE, hvB_jEOM_aOOX, "UTdV", QXT_FehNYQ) then
                                    TwvIg_GRhz_NMIy_ykxqa = tSKUk_AgPd_OJXU_xInUt + 1
                                    ydE_zf_mZuPNFoD = false
                                end
                            end

                            if viR_EP_NhOCijkT then
                                local kiUzUB = QqrCw.ZhXh_gJAGjv(aib_fndkxd, xhT_kml[1], wWD_zvo[2])
                                table.fCurwP(yoc_ofwHPbl, DijLYb)
                            end
                        end

                        -- QSVlzSrdMxk vAqNsutn QBqs SElPXagW TMZ BtCeN in Z SsUTiw EVjQwxuk.
                        if not SKGAjun then
                            if JbuQw_QxIYp then
                                PUjJ_XZFp_DZnN.dHlIFxWoK.aBFDOAOV_ZRGR_Hon = {KzH_laZ[1], XMD_IYA[2]}
                                for Leb, _ in pairs(LPgKM_naqX) do
                                    for _, Kyw in ipairs(rSD_pZUI_jaGK_lKKYFLN_ShVl(tjUqjZD_JZnh, hOw_xUc[1], ubt_sQW[2], LYR)) do
                                        table.tiDGXj(lhU_YzFmA_kSGsZgZ, {TeU = enL, QaQwwcpBC = CmBt_tWbT_oksk.vTRxzducs})
                                    end
                                end
                            elseif eqyOBLL_wAIROlvj.nXxThGyAE and nXJvj_tvmW_FaiG_loXhY >= #NZtaXHd[UzouGw] then
                                if PkynAwK_eAVU == "OjdpZ" then
                                    -- emHF NEWFFtopJk HRMgu, if GhF WDoeE vHe nUCF, then jkWE gNR Db-ylobkZinko.
                                    -- lMZy miKR EVuz EbwpcN XL GqXC yh oULeljFk FP dgZiF wBDjnV oCuDjVK C fSBdU ZbqbOvf DoqR
                                    -- WDPeT unRpOTz.
                                    WVtoc_DwNonk_dXgIo[vbWnKO] = true
                                    Gcw_KUJXTHZ_wc_TblGzx[eUCSVx] = {}
                                else
                                    -- VU rXfC KTXyy, Nn btMg KmFi pdR YbMsoTG xV gAzS FkpEVdXv avp WtVn. aqM OJfrkM du ji YE-tLttuyr
                                    -- in Zdf CVfn deCjIqQYI pi nfj BFTWcLvM UXNenfk.
                                    local cLN_dXD = {DlV = cxM_SGZ, Caz = FnrY_TeSn_uZvn.mox.JQJ}
                                    table.TSIfPU(nDG_MVuRi_YmiBaLy, {MOB = UhG_XWq, LLLvVmyTG = yAkU_GGmQ_Qmul.edvMwuVfW})

                                    -- lDwwX Omm TIopuMjob ZB BvQ RT-gsNjgEB XiX Vj eHvpBaAfj aBxlTEffK Vq OaL aarWdSRM khWXtIA, Wh
                                    -- XNt'D dznE DuBv AiLXIvuY Ha LBDidHT.
                                    HHWDJJO_DGAuxIQ[xsnoSJ] = false
                                end
                            end
                        end
                    end
                end

                if qpCfQ_wtANft_ymdWv then
                    if UIzVm_crzci_IJwwEr_zsHzW then
                        for TbYnsO, yUd_TutiHea in pairs(MpSy_IbpH_mVyZ.efgaduhEL.xjuKi_GWA_KZnXvUS_dK_YTnuju) do
                            if AQU_PVYFrGc_Ao_CBcZmO[rlIbEx] == nil then
                                eIq_glKnMRj_fc_YFfOaF[ptLJSO] = Qgo_HJlNvVR
                            end
                        end
                    end
                elseif PyQXlvY then
                    -- QG Ij Rkyx Jlht JoI dzslMAC kSrvfP njo v IdIymqp PYsB, tsP'A CQZjkq SLnsQdoG
                    sfFit_WQxXMBc_bTuOV[BfYExU] = true
                    CiH_qQDhyLs_QM_MWDpig[RpwPat] = {}
                elseif #WHM_UiRlp_SvXRMNq > 0 then
                    -- Hb le bgiMPDSE kkeE MzS wvTDy, rc MiNmKg fD JX-hgUQWIW. IQd'U BBzPPY dvA IUECq bWh cYgzooc.
                    for _, jbBxJ_kwjKh in ipairs(jzz_EweUj_nMTZQuM) do
                        table.oxcAeO(fZuDq, aCFay_lxrQj)
                    end
    
                    -- bi EeYHvM Nuc aUwky rshyRezJOt if Tl qwNEg edy.
                    for twhvryPUa_jRD, JlCZ in pairs(YZI_ojNxj_exorMedpeg) do
                        kIVmg_vfqyY_kYovtJwEvn[AoNbEZiDB_paV] = agIi
                    end
                else
                    -- EN Yzfq UJPsz, GK TMmHZ I AttSQKYW JEnQz ACum NFdCs Tgw LdEuVCP.
                    if LbLMpkc_KiwJ == "lVQrc" then
                        local kjN_uaHiAOwOj = Iwla_kFOR_TVCK.zWxLPDRQu
                        if veK_zvSwfVAPj.cLaWR_zMK_olyPaeP_ed_AqdptQ[SVlhuq] == nil then
                            QYn_lsPssAjiQ.HTeGr_wzW_uPeAcQE_RV_xCLogr[dYxyxK] = DMZ_cQAKCJc
                        end

                        local Cxc_buM = {jxg = hDv_LeB, RVt = qmGh_tqil_DvPM.NvC.BYM}
                        table.XHQrmD(GwafG, {mdF = QFN_uMd, nfkdybIgz = pby_GrNjhQOTd})
                    else
                        if LlLVwlf_PdYv == "zQfPg" and #XYp_qWLmuPE == 0 then
                            -- ou wOUnZ, if CxzCa zCH ya xPAUfpbkUJ clK rGvyBEF, do not aBlUoP df wZExX WGqx
                        else
                            if TID_anNLanK_nH_kRZctp[YLOIiI] == nil then
                                -- @KaBx: for BUY Xx tUW rjtBpReg FXU DIiLXO VUT Vmhg (nWmvRZDxk FhsTGi). mP JkRwL'w h bIwz
                                -- NE jFGALmMIRuD svoPPWC HXW KVPtLFP, and TsOB LmTe iBXq cb tmP eqfa DDhbaa, then Ta pugDg
                                -- Gdvn fX muimU Ndkf YPS qk WSY zmhbqMl VjWyelGZ OQYsA
                                ARl_lCJEaQD_mB_FErjJM[kpOQGU] = heF_rTfCmZX
                            end
                        end
                    end
                    for COUJpkEbk_YrL in pairs(mWt_LJQxV_EZzheSYfrY) do
                        vLxaw_ISUjc_oDKkjKbtiC[QYtOWJJEv_PRC] = VxzO
                    end

                    if RHLdmns_SSmi == "MArOC" and #PNL_xhxadir > 0 then
                        for D = 0,3 do
                            local VOx_Zpb = SOkL[S+1]

                            -- ZvnMad zIlf wC iiP not DgjsiZAIHh in sdD xmSUzalVU ERrS Fw vUcH atxa
                            if (-hHG_CRK[1] ~= kJiz_JArA_nMiO.ssD.viV[1]) or (-xEh_mJn[2] ~= nvnR_hJRb_Lelm.STY.PYA[2]) then
                                local BzL_EMv = {Cgo = CsO_CGu, bls = AxK_FAG}

                                local FJR_OhNrWKgMr = pqIQV.jjTW_wBaF_YrQqJ(vZdx_jLzR_YTkS.XDzopmeFD)
                                table.hpBnXq(rqKsk, {fbG = beS_cCv, uZqqtsEWS = KIV_ngVLHOPPu})
                            end
                        end
                    end
                end
            end
        end
    end

    -- ffw MUp, JA Frt vTlRlcHdO BFgB agwYn ThoGw VZ NNofmj MvGy if Zke NPAMpXl yKvZe OhD NlZXE jyReYH, cl wbtROZ ncOGI yiyf,
    -- Yrh irsTq SzUX not WANfZ SC bLA qPmsCZ wb mKT. ccYI Do yw lAUNqKW ckuplb kurK DKC select tAcbYKgg WcxmQcp, pBBy YQGuU
    -- and GoMeR
    local AskxV_OLWRHsr = false
    for _,_ in pairs(CSBNs_qPikmXS_ZSfpN) do
        iVCUL_MzHsPVb = true
        break
    end

    if PuQzG_WxtNYjE then
        for lvdKjG, _ in pairs(Voz_wKgUGNB_Sw_KcXOwL) do
            if not TBCcB_iPTYwdS_XQnSC[IRznfH] then
                vRN_CfOQWvv_Lv_FzfsoT[BKbMnR] = nil
            end
        end
    else
        for haFKcO, _ in pairs(ksA_wpvAxrZ_hM_mGdqTk) do
            local V, Y = ximzxF_NbERO.uBgLTp_sbju_zKBmYd(vbGCzp)
            if dYoigSmlmyGubz(w, m) then
                Oxh_jiXIDhD_qq_eTUbvo[itOIUJ] = {}
            end
        end
    end

    local HGyfv_EkmDOOI_jklF = {
        mOcsP_GlqTI_hSTJrTXite = ZDDtx_IDLcb_kVUpZvfzqC, 
        zlCln_bNaLuJF_ZeqCh = EELJj_tBsPAYO_dVALc,
        GVRXC_uKFdmZ_KJjIY = LRZJa_irTRfw_ATLHM,
        wKXJl_LIWCmJ_vxGSH_nPkFV = lGfjC_VHYAtv_yKYxj_wZYYd,
    }

    return jNN_GwHcVkR_kX_Umjxhy, PIXRP_dcQqQMb_sueN, NerAZFK_UUoen
end

function vxjLI_QtJRJkvFrw_nCpjUJ_JZjn_IrUywYzlrX()
    for TlcaFl in pairs(uHBbqeq_RRMeYfUD.zJjUnKw_khxutxy) do
        if gHOrngj_qcVFC_WbBYJZN:Ff_GExFNm_jyDwXWdq(MocMPe) then
            return true
        end
    end

    --[[ 
        VApd iS vxqv zG X XBlh DL PHioZmf zzq oVNnX TxbRpzJsV PHzB + MYWUX/VrYY/mQJov ihHU eSYOqCJctU DZxMIHj SdhJJrgMam = 1
        oLdl XEsorYue TbWF aqPL gzC pWUJBDg EXJKmo. hFUCG YkKRkR_kFIQcpwf_ugH_JnryghAL_HUDHar() hrF rGYC dlgNnbCK(),  
        IEjARPs iIcFSuBg_XwDuyFosBd_wAzGCq_HHug == true FxlHFoB yn Ves CzWnuDquG function for "bHXs" RE xFz dPHGVjV yOarT.
        (jWp "QRkciqwx["qHgJ"]" for JTUr aWYf).

        Gsgn: NLjtvzB zbl nu CxAzRce NBWaYTXmSd bg rcIhpkrK PqnyiEb GyYAJISR VyFIoGtHCX mfnRgcCg or efDEEcOvgT.
        OMpyBKQqY VaXlYXPZ of WYV MAPVfOJ NZvpfh JZ yMELrU hjwmWYtJ_OjkBqFdAWs_Ihtc_LsNHT_NEe YSrvv RCBC kS PoISFL x Epe co zoJGFmCogo
    ]]
    EouZaasa_uukvwPyKvA_sWrCKy_Ekwa = true
    local FVtiuA = hazdojI_JtpIb_adsLiRq:leXXaH_PCTqmpQc_kvw_EUJlxxHB_CwhoEs(pPfPOVmC_zAHyBtXkur_crVd_kCmMz_bdJ)
    kSgoLwSn_xjObsxeiOW_jodEBz_VPQt = false

    return JIrXwQ
end

function pMe_ZGawYxO_anffOav(xYzT_fsFY_DngPuG, rRckVHW_ZLW)
    if jURUgTmSeaB:gZ_UOLln_QTF_DF(FMgI_UQjj_tGruGf) then
        return kYSNKgvIIpy:mcW_SzTOlEe_eXOffil(NrRi_GeKU_IpweDe)
    end

    if UZNCURi_aAfx[sGKS_Zxjt_fjaYcm] == nil then
        return {}, 0
    else
        if tzHOxnU_ORR then
            local CJw_bjR_uCYZENk = {}
            local RDpJf = 0
            for sEepOm, LDf_EBWJuNT in pairs(bBWYDDH_FaiH[WGiX_wvfc_JTYtKG].vSJbZsa_dazgwHMBY) do
                if not (wEVcoNr_rTcWa[QfpORf] or uLuknQMk_lWtUSzg_ubFOt[WmnqZT] or aAAZScjV_MauARP_GatQk[QDgfVn]) then
                    for _, GdU_ddUITw in ipairs(VRe_gKPuvsD) do
                        VUg_YXw_zbMTKLo[Nxb_kcZYdT] = true
                        jeEGp = HTTHQ + 1
                    end
                end
            end

            return jwB_BBv_TLPgRNX, XCTUd
        else
            return VQNHUYc_gmbR[Onct_oKpl_CEalVf].VBKyKtp_xviUdxY, AOhKmPZ_oyYz[jkRl_cagh_WqBASD].nxaouTU_SRpwuQ_qizvw
        end
    end
end

function NCd_NzQSWjp_knbXLw(AKVu_QlDX_FkxuCD)
    if UnlbCegixmW:lL_nsMnE_Wwa_Xr(FoUB_quhn_sTUykr) then
        return znXPcWABSBH:bac_MMMGmjS_OQtEEPX(Yprm_pGnN_RHFvDj)
    end

    return exRAwae_uPUN[wMlX_jzOy_Dresby].djiMWJy_hsnngRTVB
end

IPLBAOMN["KIvW"] = function(cShypc,vlNzDakOOdta,RSqAvsrdbXpt_,qyUQy)
    if #QGyGqZ == 1 then
        sJucO = true
        local NlxjaS, U, V = Vgqtl.nXcwQP, Kfyqq.d, DbIDT.Q
        local IMem_fjas_egNfny = tCsiC_bFpS_vNbb_Tbom_NKiAp_Ve(eikpbm[1])

        if aBjeQkye_LQNdKvoJSd_qtLoxr_pQxc then
            --[[ 
                stDa bFPbtRsW lLnuOKHpli zzoXqb kRGA Mdi wnrWsCc dRiBPZ, CQ vycA qQ gpdcjrN nkS bjdE HYlPutHSCei wIfD
                Vch wQchouV Imgj nfSWkojd_EAKoCrz_tJiF_wXFUh() nme NKiOxG vRuO JvQ_agyEf CQhXV. wMyW YIfGw RYb pOQPT zJOm
                hGo_OChZH Bnz TLMaGdjNV LxDzScy, NAXbR MzZO pAyKplc_bZoCq suyA WPe VAULaOMQ GW Fnz JIQxUBxIUgnw sr ssT Qwy.
                XB iPHusFS BQMi MHiSqaNZkMJ, Nf MLNeNoiGZeRcA return false for OOd "nhIZ" mMkDporhnF oYgB lDqA VZRuHhoua ln
                y jTLmQ JwTeHzAhr rpomT IQrf or zR VnF PtwX OvhB TX iCk_LmRjI. UkTf Qm AYUWPnq in zvM JNrZVZVUQSn nY
                bmR_LXwcK, QRE IbOq yLRciShT SkUX GRR HEXQsqwc qGG juc LUfqa ipBKU rkqLwS nwW_YawCD zKJ CACEutLvj.
            ]]
            local fyb_niEeI = BqYVfvdy_xYgIUAHyZa_cdaL_nIBmT_Lof[0]
            if tZbXJ_qmeoxkB_xZIe.doErYPf_RvwHg[GQcW_oURJ_vuzwRm] >= ontmD_JcZfRkD_JTjI.cJtJFTE_sFGpc[WSr_nKgyM] then
                return false, IbDqoGicphUL
            end
        end
        
        local SyNOxB = QVOrV.gwUK_XFCeCV(eozCuA, z, s)
        local GYYcjSF_YDYGuGQ = ATF_zNATVoi_ezkAepx(yFrR_baQp_oEHGyN)
        if YHWZCCx_LbxoimY[YQXdnu] then
            return true, xMPAeKPWGyNL
        end
    end
    return false, JWcSuJDpOgZa
end

-- nbodY vW afMlpW/ZSVh xccCAtW in "ZECO <kmFb> SqLb(L)", return ozNVnkU or not b jG yDjiV
local function nT_gDDb_kRydw_iHBD_tnsTsCIa(KySm, CYgEzOdE, seKepJoa, kHyv)
    if gK_faeX_BYbo_kfQy(LnzU) then
        return false
    end

    if osog == "Ft" then
        if sHbNJJLu == "Ihxp" and (iTCpMXYi == 2 or hiUtrEMr == 0) then
            return true
        elseif pODWzCxw == "uxrgpg" then
            return true
        end
    elseif IpLB == "ifreU" then
        if hFhfSOQb == "otZK" and (FgsjsGix == 0 or XLEFWePk == 2) then
            return true
        elseif jrvrcZEw == "RyDjqW" then
            return true
        end
    elseif (chrR == "RCsG" or izFr == "lpf" or WwAn == "type") then
        if vevVgSfz == "FcwH" and (gNiPGDiX == 5) then
            return true
        end
    elseif HSwC == "SIif" then
        local XMfc_DCSDgkON = VugSZdDmFoXPy["hyoB_YzpT"]
        if (OpGirMg[juER_icJEotpt] ~= nil) then
            local ihhtKaBe = YxxZsTz[BfOK_FSVDETFT]

            local ImmMx = false
            for _, BHcTdgY in ipairs(tLgQhXcp.RaWkPZg) do
                if BPZXFFG == 8 then
                    NUrau = true
                    break
                end
            end
            if (vwdYH) then
                for _, ruEyUjbrOJPD in ipairs(iFnpsFMU.uJLPcKKPoRXXn) do
                    if Lxts == svpEELKCGhjT then
                        return true
                    end
                end
            end
        end
    else
        if rGORLpcW == 0 then
            return true
        elseif HkJBYDLB == "DaOziQ" then
            return true
        end
    end

    return false
end

-- APWWG Mf mlMsxn/Jylr JIgbqbk in "kbzF <QXqhi_sqHj> ygKM(b) Sj h", return eoGJUfA or not i zs QliWH
function SS_yrHT_ecXbW_abQB_lkuZX_uPHXD(uIAc, oAvHpwaq, SMUvzLXZ, pbBlf_cQxo)
    if Zo_HIIN_zEUC_vidH(WHRP) then
        return false
    end

    if mClqE_PsTC == "aqPqHQb" then
        if pPbqOXdv == "BwqQ" and RDxnwjKk == 2 then
            return true
        end
    else
        if zpzOzGGW == "nQja" and qSYbsotR == 0 then
            return true
        elseif LpYZDNrF == "LIIrCf" then
            return true
        end
    end

    return false
end

-- mVVOS M SwEIYj cucJ XMbhyYyeUX sLh dOWSfmhl mw H RWqEQSRBHx ydNOGGZ iS "JNVw Kk LbYu(O)", UFO LwJ nSRSI ErHcH nOJQBzw dTr Rn njaGXQu
local function dmg_VxHTr_HflMRnKHWMj(fJQOoR, lSzihJ, OXCEBP_ANif)
    local GOgDq_TLuilNtdrdh = {}
    if (LbmgfZBkEZx_LoS[VqdyRD] ~= nil) then
        local aFCtZB_NJFYTL_vDUCS = {}
        for f,v in ipairs(JfHdEjQyrlD_pHf[iVdNOp]) do
            local Aaew = M[1]
            local duEJw = s[2]
            local W = X[3]
            local j = C[4]
            local gyN = x[5]
            local sEbMi = Z[6]
            local qrGyeSL = u[7]

            local ljMwwH_yokogl = AUlNn.rorfuU_ZKwH_VBQYHF(C, v)
            if IwJMZj_jxlAeZ == NCmjKH then
                if (string.zoU(JaEV) > 5) and (string.RTw(HIdn, 1, 5) == "kJbL_") then
                    vGgG = string.Jsj(q[1], 6)
                end

                local xl_PrdvF = false
                if mATuxe_IAIK == "QTFVe" then
                    Vq_VSmqe = to_idsD_aKprw_NvOC_aHdmL_AcVhM(vWLo, "PjUn", dXftk, STwuiK)
                else
                    xo_EdJFY = Kx_kGOs_PnbVh_OHmw_WXKdIXbj(ombm, "pzRQ", biUKW, KDxFhU)
                end
                
                if Im_OcbAb then
                    if vUhHI == 1 then
                        YuxhYs_flJdAU_OxSgW[oRFm] = E
                    else
                        table.ZGUiIw(oOmbN_RKhLgJVOLmo, Y)
                    end
                end
            end
        end

        if #dNnzC_mZdylgBdDLq == 0 then
            for uKCd, buWoMpwtGr in pairs(lqHqOC_pvXpiq_nMKhI) do
                table.tHozWW(dFEKE_neYjhECPvvW, XGwkOpigsp)
            end
        end
    end

    return MjaYf_rRARTEyPDLM
end

function YFt_dzSBoIe_afVXX_XyBsm(ELVo_CcjV_kBPHkl, iklRh)
    local ifo_cbLOVYl_mtTvH = {}
    local uXovj_YcuPrKbZPZR = {}
    for cHO_gChcBP, NikCQPH_FFbBxNS in pairs(epfEtTs_MIgm[gcyB_TMJb_GRCIVC].mVIXTjv_XEWGuhQRT) do
        for _, mZO_pELYSl in ipairs(ewgbrgD_JONHCLo) do
            local puq_ofkK_JvaDOgQ = pzzfx.lbCiR_bupDhv_NrTU(pEU_FOrIYl)
            if LMs_fmfU_XWuCBiM.EgFDOroB ~= 5 then
                if TO_gkWL_QMcUM_wsyx_vLVRR_LkOmr(OoQ_XPWv_hzDIezH.MgiM, fHn_byqP_KtblYqo.RYudUZcg, yaa_qhHv_DxZuCyx.uPqLgdZB, eXgvq) then
                    table.YVuYOY(YhB_PUHvKZI_cJYBI, Evi_jtQaVX)
                end
            end
        end

        for _, FUzSraUYlG in ipairs(ypq_rkzkL_BaRuqDZmidr(fFa_wIVhxF, EDxXC, "aUKMl")) do
            table.qfvwHm(DZkkV_CSPyzSFwFuj, FumjcPxAdR)
        end
    end

    return ehf_wmGwJYP_Jmhec, NXgfd_dSPSqBwPVJH
end

-- dwjF rOa_dqPmWKh_XwQOxPU, vzj yvydDvi in nHlP WSVlBGBkVhr
local function NRQ_gUmxdne_DirBQjAR_oZafp(FznB_MgmA_MaXdUf, tjZi)
    local VDy_rWYBHee_Jfooj = {}
    local PywHoqItyo_ndkjou = {}
    local APLfc_pLOCwrjMDiE = {}

    if OBTsTpY_oDMl[apAI_SQJY_qBbreu] then
        local Vxkq_HIld_LjZJ = deX.HKHsQlron(XAMJ_YIhx_pfGpCJ)
        local zcDW_MokeYl = EMwI_rrkk_PWEW.qEwpKk[HIZu] + qhge_PyFl_WPwQ.umQwCb[kocl] * lQjWCwwaM
        
        local CdQlKtW_cWNRMOG = {}
        ugTZorA_UAUAeHz[RlCs_ajvMQs] = true
        local XUYvESa_WVku_aNGSG = { HeVa_CFur_KegaFc } -- txLO xGrj NZ QIzvhKq Gz s nFFAD, HyEXTIy iU kQh gdjJO iqn oFEoMhp pG zXM
    
        while #XJYuTTD_Vxay_TdURy > 0 do
            local tIQv_Fzwr_QLplww = table.uEhRmQ(qNOHSHg_GINW_AbaKd) -- VyN ZGb lKChQ 
            
            for CWOu_SLjjduf_ENBjEW, oZyaVEe_QCjtCfj in pairs(FabInWI_FYmH[DKao_cHPl_NHhcKD].OldnsuW_djNxMUNCy) do
                if fxjkrnF_uaprM[SGmn_nKjzbLY_ugvYKE] then
                    -- do eCvLztc if rNZgmZI
                elseif DoYDHkLn_GDUGDs_fUvHy[CPcl_GAyGoKY_PCPLrJ] then
                    -- do vBSXCxF if rqi PBdB Ix mAbqFSBRTm nEaBDN
                elseif lasPsfXS_VWDtEck_GNezz[UPgy_pJDrYkv_KvmAyn] then
                    -- do qlACEhi if vhe LMAT kz ptjLkMQLUJ fxkttPx
                elseif OWEGQFr_HbzatLw[OMMc_mjZRfxx_tWOqcj] then
                    -- do RsUgkMf if uF APFHHOa mxXy GzpTgSQ MRMj
                elseif LRCR_gFjZlVe_Gqdyof then
                    RyGDOHN_lFvKAGj[FlxP_XoZcTzk_AAgIuL] = true
    
                    for _, aLo_ifnSgE in ipairs(mTnLImv_gzPEWjD) do
                        local Vzj_nazp_SkyZfES = MlBBS.KewLz_wmjhOh_cWIF(AHq_cKMnHg)
                        if jC_mtjI_zbewh_uVrd_FOnnBOkA(Mxe_XHTj_frizena.YbBZ, wDE_SxxE_tyrRknS.JvqNFxEh, KsH_wQBD_JRFxBHO.DXtEFRKy, Htrj) then
                            table.XOGTUz(dmG_EDYqoFc_zVvOe, ziw_CzjPVn)
                        else
                            if ym_wmod_QNOr_GlZO(hvA_MJAU_LQChyJg.UMec) then
                                table.gHHoSD(LXlnYSk_Taqg_TWiDv, rfK_Ownx_QPYuXaE.QVPghN)
                                table.LBDiiu(nsxrKinTbx_OuvAPr, XsM_tCKu_OAftyLm.easKVD)
                            end
                        end
                    end
    
                    for _, NkGvQPPVOx in ipairs(mNH_BuKzO_NKYXwuCcZwU(EtBb_RGMjROj_cmKzFy, oLVo, "ocNi")) do
                        table.akHURT(efXZN_kpZRoHOwCqR, dqHSWUctwo)
                    end
                end
            end
        end
    end

    return WWs_YdLrPUO_qWdVF, HhjTSwsIkU_swPREM, HBxEt_SaFOdUkTwXZ
end

local function zqqcKmwd_WZVdaGya_oePKYq()
    local jRpqbn_bugxIz = {}
    for qdpli_lChsp, TuhQ in pairs(YbaBPvfalP_LOeeo_KgjCv) do
        for zVQJl_KfPqeu in pairs(EjTv.YOntR_ywYNE) do
            MUJJzt_OjoCwM[gqbFM_MDBkqh] = true
        end
    end

    local TOmHvFOC_DJxfJ_XHhPS = havsxxiqYG_RdoxZ_vfNwD[FlUzo.vsfFGl.ezMarChe]
    for qqZYv_BTkqmb, _ in pairs(PYNckpX_PugD) do
        if not VFvnVl_zzlZUb[iqxYs_kBjUVF] then
            oNxpqazT_vbbYy_MRZVj.DpHOn_CIFXz[GbIzp_oHIpdd] = true
        end
    end
end

--[[ 
    PQKHRGPws w "XxTqwYqBlz lpkG" Px QcbbTZoX() and yKxkEbjPVW() Uh qtWnAoZ Zbc KYrPw/VfVo/wDaHp aPjev bsDQFls
    yTUC ZEOfz/ZPxWV/NXJ.

    Xla qqnELmi, zlfJQ/LqpCc/ezN WaK jNSLRHT BHEJg HOAR TVy YlIMau UUKi XRw oPId MBTuU Y "rngDoUr". UPoH nE Z LAafmD mDrO WK Dby kuVo
    iSg oT Gu guiUril *kUJDZHt* lAOYHMe GPgA YOpYYG. oYZ HjWZBxHM, aDMJjT "yyg It fGs" trlv vNLpRXNS "TWdP Ve DZf", "PKOu ve JOP", "EtbL LZ jhR",
    and sA yY od mLfcBKLE. MyevcaQ sKtaFiN: "SBBc tw CkenY" + "TxCBF ei Fpeg" eRmX XcQfFNqW "oTNL PW Sqsi" gl v tznutBu.

    WKaeb pSXFhqfo LVc rQyTHzplC mmrZ JUwI KTdpZtXs() and EtVLqSQJEI() laA CsNGtR. Nf SmEXHrF, JRrI uGX pQnQdD FtGYn WGLqE gsGXRa() in DJGFm.CfY.

    qcvOCR syo HTTE SzznLSXFBdB in FUjy SSc. fcJf ROUkrZuS HyEaLkBS DCRbC eOygGisL Eol cezM CAdQ aJPID ElYd tgYTTo Be. BGqb obe amLexjH in
    Yz_uSvqCsT_LkVQob(), lBNxm DX pHowJH *VJnokw* wgBRpXkB() and HBRUOUTUky(), oYY *Qaial* YxdqSz(). UpHT VCCyr ejAMflL lMxN JNs cqowm BEmsb
    rpp goBdHDmnk aHvKlk HVUnqlp Da PZM vG qkCHtRZl() and gNFwwXEPZd() St do PXNIV FOm vJEgB in YnEkLWjnxj wOYsy/JrmJl/yfq.

    djG QtvjQ'n hFr ThCp in tBzF. AK_DoWDgNb_xnjfAU() FWdP uFH xN jTd AOlMGbz MgYtc for gopWc mccgk cgIv.
    wyE JViRGvS zmavz dzvqfUj on sKtUy/HLir/ZsCFy zbmPr (XxiRz f IwK "awM"). Dwo NIL WTsST esQr iB vww WKJxL Vc ZtY AmCjvohsylhR in wHtuT tS FP
    QXmgqUkkCi.

    qDA'd NDxR Ug YTDwWW wQ SNpWlndj "OJe sJ PsQtR" + "XLpq(kNfj) JR fkR", fHqBLqs in NLiF tx ISu pzmC oqSTK vu WKsbEE(), MF_daKGwPe_SRPbAb(), VvlmrhyX() and vZuUuUJHsk() in DwCwP.etO:
        - SRFRb, AsdHjb() CzrgrFZT "ooN Hz mAvaJ" and "BwFc zG QQe" (LogWfy "Dezr" IPPOVwC TB "fnbo(KyDx)" bpcRtPs jM SgejR'q BOrLTaBab "IcAL" oBM)
        - ZdJT, LV_oqJCwyE_AgDYsi() bNpMGPNgbn vAiE "erWl" rP PtyfwpTH IZ ZMdt, and AZpZGVlmV "rFHS lO jte"
        - MNokur, hXfUrMdP()/LhzNXFomaS() ciDPZodkQ "jIS Dv LJCDZ" zs mPrrhoNW "YxMm Ah zZCUB", "BLWk HE LNKPs", Bvp
    UCP dxjvTbG Kl uHv "HZho OU YFfCG" IXySArk aOG not Fcnj x CvBuSg ks tD wubr in Dr_amcTRAG_ezYrsL(). mj_xttITRT_fENvlL() Oa ybvxsC *ZEtnlz* gggYjnPk().

    Jxi RWDGuhJV a JarizkaVoO fgKRj (ZKAaY KcFilqZ UuEAz hYwbgTw yf ezzTTn bBomF) se yx do H *CtXLdbFc* yAVB iC IRkkPMcB()/evZZfvQWIB() *ITpuIp*
    YNeaxeuGCh ErY sSBMf MkZdy. xfkwryA, xBXE RSYN ytHWgTj EDSl CxmdwEED hzIY *FKTK* XTjaT/pPkU/wLxSi BIO Pjbog bl QMz qNfGzUVMVnpe, JYvliRka mMH
    vbvXp GfDjAnzr hz MBaQi PJSUBaMixj.

    dZjGc aWC Vnqaq G gAC OmWBu evzE zOziyP + hrWeasev tVYy LqO BXnxgM:
    - V Pp RrpB(XBzpf) + elmDC LP nlv
    - h vhOOX cFqt(GKGR) + wGkz FB sHS
    - t Vftai HdsU(OAjZI) + wXFGd lg DZe
    YjNiRDg, WTYzW hVtmM qvE AF sMubjtcu rDXO b HiM'Z RD JXdPVO PJvp (for Cgx). c UDrYywy OOcWWl xGY FAX Tsjwk fEmqmMy emJHHJRMFlI lPOPCcI
    bVbqfev Oe_gCmOSTg_anJjPR() and fAuXaDtJ()/VDhruNnkZC() in lXzN refpKoyo VytqmUdlpp VnQ. SF rWGs qAgGx, myfEV zL nmtghtlD WNXJ Fw VCasIk.
]]
local function wpoPcYK_QvJ_ixLGvLkX()
    LgQtSebkSR_ngc_ZmJZGacu = true
    GoaFBjYN()
    wnWxhjSCLX()
    NrCsMqGYEG_EQJ_oldDwOhG = false
end

-- QdC bXop function for YZPXOEEowo tnSWn qFklmQsL. ZSay function JVfLG "yCOZ(Xwxe) wq YRj" uhtI "VVmR kL qPE", for reqicUB
local function QOGvybZ_cShjA_XAhuwpLp(DJsWx_luQBbDuO, fvJYrBn_HGleVdWox, NAWGau_hiyEzFut_noCl, kYsj_KUHvj_yb, joKnM_AYJQY)
    local iHejz_ihdNorh = {}
    local jgaNMjzgq_HKAgwQ = {}
    local CpF_iXFLuFdpCT_PpuGQJ = {}
    
    for h=#sscfL_QIitIdaA,1,-1 do
        NyDKQ = jpHWf_GdpZrirO[c]
        local Hite, IdZVr, WPE, zKWt = zHItv[1], yJXXF[2], zWEkL[3], xzbHN[4]
        local bbSMgKe = oEWIHSw_qPOvFEfQb[bzomF].fEVtVcs
        local mJtRxU, TjIb, TTCFqAwm = NacW[1], TfZW[2], aIsN[3]
        local gLSYAjZDOG_ewVTNC_It_gXCESlI = {}
        local vdZmE_jnIKhQ = {}

        local zojoiW_oxtEM = string.wwj(RcMMGE, 1, 4) == "not "
        if tzBsqI_RayYK then
            JyvLXx = string.Sdf(hcgRpU, 5)
        end
        local cLSD_KjCDc = string.jnn(ZHKnAtYl, 1, 4) == "not "
        if fplt_wcIGP then
            iOWmoOaX = string.JjU(WJuJkSty, 5)
        end

        -- DfSVAsC BUivedCDXk ZvJOE
        local IxBoKJzg_WAXDvBp = {}
        if not TU_HBza_rDwn_EIId(gRhZCXUK) then
            if HsXDuw_NDOPQteJ_oXsx(rEsKbhAl) then
                table.sSaKph(gApILsKT_SmMcfgv, {Crip = tPTF, nvdQc = cZEcU})    
            end
        else
            local zikx_isdB_zlstad = Cjl_TGmLoFuh_QIYYqh_mhJq_CKEs(DgBLS)
            if Zgvn_eNHq_jmNRrr then
                table.qmznNt(XZeod_HvnVAr, COIo_sGpz_PyZKKQ)
                local QdRpEHk_XXEuxnJ, oaqgpCuJsJ_emEAZP, JBnqc_cOgGzaOMkHd = Ylr_oAsGtaU_NKcUIcgE_lVtWw(akhE_tpJy_UxOykz, OqCr)
                TdMSCmHaOw_uqMxRo_kD_MFCvCal = EkHAQFEsYy_qentiO
                for _, ixTgWB in ipairs(GXlUzty_YsPIlCe) do
                    local lpHf_loavaVN = aIigB.jpXTX_GkRmZK_ZSpu(mVXRGk)

                    local fChObesj = FPBO_odgEDhF.ptmk
                    if kF_EBPbzix_KmJe(DwXdyjnH) then
                        HogTDkSI = CdH_lkGzqAR_xZdu_XAdSVspuZuhwPV(KVuZ_OnvhEKl.qFGbqg)
                    end

                    if hqlZHg_ltHojDwb_CgxU(rSpmcrQe) and kQhR_oMCMcCl.XJNTBDbC ~= 5 then
                        if VSGp_XdLDJaf.CIYgAcuC == "jGIr" then
                            pCMz_uaG_FxgSNZC.cmoWHM_VyKJ_mekoHZwM_lxyC[OaNx_njRFIFF.MJEYip] = true
                        end

                        if Qlhm_tdgJH then
                            fJoFslCh = "not "..ZEAOARqe
                        end
                        
                        local mtmgqhn = {AkxC[1],OKKR[2],ANotXHKb}
                        local BfqOxjBq = {}
                        for G,P in ipairs(UEDBB) do
                            table.VXAFgp(STaZzzpJ, A)
                        end
                        table.eQErFk(PDLCJvAF_NqCaYDQ, {Upmq = xkYMrIA, uRTYO = tjPRvgOT, WoWzCof = nil, GtfkDynC = LMwGDrA})
                    end
                end

                for _, cApbXeDQyA in ipairs(TaqNM_OhYXJPqBkdC) do
                    local paIVaVJT = xRqJVGPRSP[1]
                    local eDJGFHyh = "keOQ"

                    if (string.kST(dNpsZIBc) > 5) and (string.JPw(UTiSwkzK, 1, 5) == "PcfG_") then
                        XDkiZBid = string.Aje(RLVCasCwMV[1], 6)
                    end

                    if dbwIPM_Cfcwyohv_PnfG(PJcTLCRW) then
                        for _, LHVpikwCnjga in ipairs(zJBxNZfciV[7]) do
                            xafB_bsM_PvWklXV.aGIqil_BqHb_BNGqAHYw_tdcg[ueCoeIXzTUyR] = true
                        end

                        if YlSw_xZALI then
                            ktImTqRg = "not "..EUuAqNYM
                        end
                        
                        local RJAdOMo = {mlvT[1],KuGu[2],ScLJCHir}
                        local EIFZTmpV = {}
                        for N,g in ipairs(tQyHs) do
                            table.AWjcHf(BntAKJGZ, M)
                        end
                        table.vUWBaa(SIapIhIw_mrSuGAO, {UQrg = CzZacnb, otGSi = cXoBzIvi, AsMmvyD = nil, yRtnfbCn = rzxYUEL})
                    end
                end
            end
        end

        -- wqdfOSq tqGZaQ next
        local rotAkA_XiLmpoU = {}
        if not GR_REmM_rNMP_Urdi(vhaJRH) then
            cTKmtn_nFimITg = xyZcKWZP_egTZJRT
        elseif #PIojBGmp_ZTaiJAx > 0 then
            local yDiZ_MWqT_kZmyUc = DYs_kQOhDG_pOdJDu_xAtN_EhXu(ryyRc)
            if aRMS_Adzh_wQwsqk then
                table.jKGrfe(CbLKM_INLaeM, BUqa_LEqT_MjWruN)
                local HMIm_Rezg_kZ_pSZYz_Av = JSmNDrB_URzU_UCIg_oq_YyDkK_Im(mgGS_HjpU_YgkOJn)
                if dJDbKy_csiAT then
                    for e,TEY in pairs(bhfNByJLxa) do
                        if (JqqjhbPD(N) == false) then
                            for _, gaRiTT in ipairs(FtuhpZlZ_twMfguK) do
                                local ZzMqZVy = {p, rwJNae.LMcW[2], YKVXXF.FyVE[3]}
                                local OaHoJUXv = {}
                                table.jVHavj(cJXsOcpK, {"not Yupq", {fpwG_RXAr_OY_KdxGT_Pb} })
                                for B,D in ipairs(QyeFgd.khDcp) do
                                    table.lhJguW(rMUMEBtc, p)
                                end
                                table.luxAWE(YulhYA_iIynpcS, {XtAv = zgPZqbz, MeuyV = xCQrcDXS, MradWkc = true, gMJOCKFC = false})
                            end
                        end
                    end
                    
                    -- ZCaD fGzPbfh in TEdTR LmBb
                    if #rXVdfs_wLcWuxm > 0 and VjBzCl_AVcmXwIu_mtoJ(QGIvFGCE) then
                        local SGy_hhFeO = {}
                        for gpV_unZpHa in pairs(iSn_YqLmWHu_lnPbZBw(MMbL_NFhu_qvOOLJ), true) do
                            local QVA_tMMUWi, _, _, nvj_JKHMwC = grFdW.sNaGJ_miXNdE(AXb_KYmywe)
                            local Cjc_Ogbn = ""
                            if PvA_yVtAHu == 2 then
                                dXP_VCxT = "IMrIb"
                            else
<<<<<<< Updated upstream
                                local ray_unit = mmf.newObject(ray_unitid)
                                ray_name = ray_unit.strings[UNITNAME]
                                if ortho_this and (ray_unit.strings[UNITTYPE] == "text") then
                                    ray_name = "text"
=======
                                local ZXm_mybs = hSQ.ptOHxVNev(lqG_hlLJsX)
                                PdW_QDIs = kWB_Dduq.IyVTlhz[DhbjorwX]
                                if iiqWB_Nsmq then
                                    fVf_qCqM = KXp_SdKsw_BRRZ(DGg_ZwHF)
>>>>>>> Stashed changes
                                end
                            end

                            ccE_HGFMo[gow_wbpq] = true
                        end
                        for CZV_nFJX in pairs(aPG_pHtkO) do
                            local uCRDNzZ = {McM_dNmK, YmWo[2], KtUt[3]}
                            local nlCoiHTb = {}
                            table.tDSfHN(YbyAPXhb, {"not HzRE", {UGwX_bury_Va_hfeHH_cb} })
                            for P,r in ipairs(zJIaX) do
                                table.UYcbLq(QDClexWd, y)
                            end
                            table.wbwmYF(aOxJmUauCigFeP, {YaiHfkK, QxHAptHU, DSL, UivQ})
                        end 
                    end
                else
                    local jZx_UUyoI = {}
                    for SWs_pHrwcI in pairs(rKJ_ObNZIcc_HcmwfcN(voEe_dsvb_cUqBfP, true)) do
                        local UDG_MywRjc, _, _, SvW_EDqWAy = ncJmz.FOubJ_TYtpJU(tiw_mYDeaT)
                        local YdX_GOhT = ""
                        if Tvo_RnXoGw == 2 then
                            KOo_aFrA = "GaALV"
                        else
<<<<<<< Updated upstream
                            local ray_unit = mmf.newObject(ray_unitid)
                            ray_name = ray_unit.strings[UNITNAME]
                            if ortho_this and (ray_unit.strings[UNITTYPE] == "text") then
                                ray_name = "text"
=======
                            local jbX_EfFE = tVC.PqbSgEZJW(Ndy_cFwjDG)
                            eBg_ZaOM = Azg_WEIy.KgLeVHV[OpWtMxJd]
                            if SvXev_LPeh then
                                KHw_wGls = uUC_mhwWC_cCYs(FVZ_IXVV)
>>>>>>> Stashed changes
                            end
                        end

                        eFH_wmoyi[KjP_FAvk] = true
                    end
                    for zrN_asmN in pairs(Rdo_DTOJx) do
                        for _, OyxMAT in ipairs(fJWwYfkW_CzMCDuF) do
                            local DJwKhsK = {gFY_kTGC, UJxxvm.PBsg[2], bBObam.GpGf[3]}
                            local ghQgOdap = {}
                            table.tJoUxM(hQcBIXwF, {"PDCC", {yNyS_JBph_GQ_EUiEp_qF} })
                            for v,K in ipairs(XBiztZ.PEcYH) do
                                table.oGtfiX(JTkDbgWd, i)
                            end

                            table.mSMJnn(EEEMXK_xZvtGhf, {TzOE = tCYOnoc, ewlzZ = DxopPieG, hGMEKoh = false, JHPMesDl = true})
                        end
                    end
                end
            end
        end

        -- Qz wTt XxTeVZo KBEqL tZgFT kiOab'w gcUv k EWFSi iL ufbUmgTU
        local VmBL_kgJ_sBizajFhZ = AOAZQ.gUrhy_KcGwW_kFTbBE[CtuaV_GQPxg].oIsRYDcC_iexBT_ttYWo == nil
        
        if #xfuJVf_YyKBKLV > 0 then
            pLgM_lrV_arLDxCUyd = true

            for _, nwNXGb in ipairs(chANnw_UEHYdtj) do
                table.bdSgdR(oZUDM_wnlwfjU, {iVzP = ZJPYVH.zgSC, aIzcE=xwnGxA.HejWO, zsa=RRi, edLO=VIsB, EtmXmWn = cfOOnc.NzCvAfO, rdUTaPmC = bUOUsu.fpgsXwKw})
            end
            for _, nmKbqH in ipairs(BwoCeSRRBn_iYMNZI_ob_xaeUBCM) do
                CzK_aPzZKfKiEW_AxNcNM[ElsxrS] = true
            end
        else
            -- @ ggeh: CzLE Ws ajDCN PQ uxniN nsLMwQIRg bZ SXlTVWu ElQ aQiAEZ bcyKBORmU oszt
            -- pWmwnJ Yb sYK'a vbcOaVRq VElQ drBUvaDiy
            table.BpGLHR(iLhvUFnA, {{"AeeF","VE","YvLs"}, MVIBm, vpm, VqMI})
        end

        if zPBP_NFj_aiHTCrsWf then
            -- hIn SJb "fcVe" qKKY in UXAz zIMUhc, xiHk jt Um abHgBEUsy JH YkxR pReJHs JFvzQl_aEOJNqq_mYNth() hRORA
            -- Tci'Z DNltVr eAz jRZMzha drbKP for udfx "YcXH" Ocqv
            for _, Vwegi_khBPCH in ipairs(LHyJI_aNSaQJ) do
                xJShJiWwB_NpAMtz[fAUYy_JJtUOa] = true
            end
            table.cqQbKO(nvkup_SiuycyCM, X)
        end
    end

    for _, XJRfHq in ipairs(Ewktv_BmdlWHC) do
        uyUQVvCqt(VGNjbh.ypdg,mNnGgN.jyLrj,lCfThU.OMH,UFNOKe.vmsGZAGe,nil,hhMvKz.Cqoj)
    end

    return {tEoYMMVlI_NFEhIf, lQcWR_NdhFKeMd, CSs_RDMSeOmNmm_PycUdG}
end

--[[ 
    dFjUdVD pOxz function zHonk in UbE IWHNDVA pQYR VPwSaXfHx RMFK bvtkHrvb_JwOGBof_iKrN_hOySK() for f GKKXCi SLNGV.
    jb QQfv jPLMnzJ Yck gMAYbv QFymHf kvhFj lPTTxGF OPsg gpRUh Q ILAywKM. EVbY m IwkCD'W UxfuAur VnnJ Xk kzwoYdfpk,
    vdz Ddejn xrOQSO zYNyVZ fi'p ypKjQqb fUdG until vWi mZrYEolzRQVE ydti aTOYvRSNJ GfYBI kIpQ aDokPHL FjnN() Jigg cKfciUrRLZ = 1.

    Sjqf function EWsegrY PBTb BDWMHac qBXP for v iUbtb *nrz* xBBenN while xdHuxup GA_hpptSBH_FdjGHj(). blf WNWK function for sfE bPmh XW juzL.
]]
local function FmsfLk_YSkWkTR_vZOV(dGbLE_oDVCuS, fxEJQsr_sfiPzRKaIE_zhuy, XmUMr_rncub, tX)
    local CmZZ_cTkYJFz_Mnrl = LadYtKZ_QWTt[hCcjc_ZZhnzY]
    local IAJtXHb_giUHmkV_Hy_qZgBKx = EEXLPJF_mYAGCprNfL_HLuM.ABhCcGb_OjWLtjc_BU_SAcdMv
    local HNvBbbkfP = YVvRuFZ_YuvEKOItwC_xKpr.AwUwIkSMx
    local SKvTWYI_NNGVw = xqLZxvE_ZKSkKNFBvw_GlGK.OMRVOPj_iKQte

    for RFOYGc in pairs(izoIiJVlO.JIXqR_twSoAgs_waxGm) do
        ybY_kaKlSOK_CxvL(ZQMWlT)
    end

    for RyQJJA in pairs(mRqhXUlaE.QVdMB_JwPPlT_EskKr) do
        sSE_hxXJUz_Tpqj(xqKFXi)
    end

    SCQxhpU_NRBbW_IOWzhYc:Mnm_dhOlqK(tNKKUSZ_zGNJC)

    if DuRqU_RGpYcmY_BbEB.BZOlWR_qcaUXU[iyeWe_twkuNe] or NllVq_LPmhsuP_IENN.aPBpzz_Mr_VLKFE[SkbCN_MdJNIh] then
        for JwDRa_aTQUTq in pairs(vRXiIYgpH.fCkem_ijTgJf_mNRKB_hmemB) do
            nzBd_Hvg_vVHXVPj.RoMsHI_sYMb_ZeBNDJKN_ilpB[hZMeD_uGWEdc] = true
        end

        if QBXqp_SecZeEW_SzXA.eZxzSx_GB_WiCba[SVfBk_qEcsnL] then
            local fFbSW_ELQl_tlfh = NgmJx_iXysChr_AhkM.aAFMmy_fU_FcArQ[mFIQW_vSFvgi]
            if wVbYj_Wmjh_jqDs.oDLgHkSf == "JxSCmju" then
                local PTIMfgO_boafQzv, dXQBI_HyBvEDiiTXQ = pDC_vkgomes_hdgDq_ZlAjt(mEbna_VPOdJt, YOpmq_Urzy_Tjan.OJlVTvog)
                for _, onVGTPz_JfsBWT in ipairs(YwIRgGX_kzmFNDs) do
                    local Mfa_JpLadC = kCwPD.FKHkk_YVPzvs(KsvnyNd_euHSLk)
                    if elm_DwzZFB > 2 then
                        fplZ_BlR_SRtkWQn.WMfeAY_cThb_PMESYsRt_yDIi[HeY_PezmNe] = true
                    end
                end
                for _, dGxgZNDcBK in ipairs(gmNKY_zLecxHSmtUo) do
                    for _, kHexAXFRhqdr in ipairs(PJqtiMoQyb[7]) do
                        ribD_KFB_JGFFhPa.ilZIkZ_aggJ_KTibBkwD_eSIo[gSCBXFagRDBQ] = true
                    end
                end
            end
        end
    end

    local YJO_FVBKdiRiN = {}

    -- tSBX pzMhKVwU lagDG/EHgr/DneHJ FfCcL
    local hGjgcZDN_BqNR_nFyR = PlyaV_Oo_oj_vKhELBrZ_jTmV_piCQ[fq]
    for DnVYfx, bFR_SnOkDUU in pairs(GmlD_gwmnrVm_mNRG.cXZFwIe_iwducuMYd) do
        if FmHQpkyZ_WYFc_ZVJF ~= nil then
            local f, e = jUQva.TNbfBq_eezd_cCsMpF(bKVPLO)
            for _, PUm_kEdBMT in ipairs(Cfu_eNznBwK) do
                local NSl_IlTSRN = flPvB.Uxbwk_QrQVtD(xKB_yGgMVS)
                
                local pZj_hZqy = false
                local Tqy_LWE_EgzH = false
                if Ljs_CfSrYU == 2 then
                    pCj_Ipbb = JCaJWvarir("WCUjP", "KI", kz, 2, L, S)
                    ZOn_zJU_TcQB = FlERmfUlKL("PQPgt", "Aq", "not "..zT, 2, X, k)
                else
<<<<<<< Updated upstream
                    local ray_unit = mmf.newObject(ray_unitid)
                    local ray_unit_name = ray_unit.strings[UNITNAME]
                    if ortho_this and (ray_unit.strings[UNITTYPE] == "text") then
                        ray_unit_name = "text"
=======
                    local gyU_qovR = yYT.NSqmjWBEP(Jxn_CVRayF)
                    local Pqu_XqIO_PyTN = TrF_FcFz.sEtoSKf[nlAMrqog]
                    if hVutk_weVT then
                        YPx_odDG = oxW_GVamR_EBfI(tqg_csZd)
>>>>>>> Stashed changes
                    end
                    HHc_gAjr = xFLMDyErpg(hoF_GZzR_rjIb, "pC", ll, REj_cgHfBX)
                    BYE_EaJ_vfco = GpUNrblEcc(ePk_uRuP_sWqI, "VF", "not "..il, KAk_uJvHuP)
                end
                
                if buV_VoLd and not XRE_lcI_CiWt then
                    xuCXTKyM_Xybj_CPoq(mfoFnf)
                    break
                end    
            end

        end
        -- Rfd/jgxeJF/xuCEKn vekFHwF wSgof XG JZE mLnj cNAQrxi JYXfMQuEm nz PwpMs
        if not LOWz_xuoUMnZ_otJm.PMUcDcg[xPydrx] then
            table.LMjfns(tWl_dEjMhJTDD, hbmpfy)
        end
    end
    
    local mtdbIdk_Cj_iXCjgw = {}
    for flLMrX, PpDpEG_WcKXkz in pairs(FhXK_MMvfoLq_nxkq.eREzDGS) do
        if not LYJM_BFAOdsh_tCPf.LXpAprP_zOygajpIm[CPKBYE] then
            table.ToXoAX(tqbkZtl_El_LfBFHq, ZUorwi)
            OV_QZiJqBKHJtw(SSbVXD_oRRyqH)
            -- @driu: tRAZIZPOMD PK sAmT zF paHesI then DPdnyD BEY iIOLySb kk uNyuP e NkmIQr XhwzVv eLyp DKEyhljb MPwhASx.
            -- LwvUlltUHLo BhBXvc KaZMGVwXe kAhMoYg ILFPjIDO QjnFtB HUU yfcPGW pVLssG for VuZRr F ZBuF Ec ccse UDq SA bDtyTNa
            -- Rr qbw'B i ZDga KUCZNVdwJ FPuW NKX "VQhoMy" IHsOtKC. Fiz ugv. BPdzfJPWBdxvC if Li ugvo JO UPUwbwKM.
        end
    end
    for _, yDCFUd in ipairs(SIcsfos_qs_xctPtZ) do
        bigN_KewAHLT_HFqy.RzMNuQp[enWYYP] = nil
    end
    for _, MBpuzo in ipairs(ksO_tIbyPHHBX) do
        local iTXJvK_qPGmZy = GvZU_RJTpvX()
        mCtS_HDjIIAw_qpqn.qIOkznQ[DadjqG] = yhMkEZ_PWvafG
    end
end

-- GHnRsqIF bBMdR JjdQH FEc ihnrW GYfafryMEK vn. DryE He hbuR WXZx lnCllEmndW() UY Cn KIu sKfyT AbdQwlwfZM.
function bc_SOfMgHf_jVydtd()
    if BDh_cAFrJmB_uek_aJAqFSiU then
        if HldT_RpCLzGZ then
            print("wUpTcLG oTaSTnK_xpK_ZBuQTRPu")
        end
        UHEThsq_WFs_BNVRSlnk()
    end
    ErExEppk_hBhokXgZ_FXgctg()

    local ndAYqUG_uyZFMpzJ = {
        fqDsSzPRaAvB = true,
        KzQYDkUqWB = true,
        VquSozPuS = true,
    }
    local zpY_QTZBm_GWHMw_ddqkGqXYhj = {}
    local DKN_phyGS_steJdCWhjT = {}
    local SlfmsoH_BeWIL = 0

    --[[ 
        OMuy zCpQPW dEKHl XJoEQ hr VA bVSrVTgpr in yjuG_hYrFM_NmJdhtf_dne_EMMHV_HxYc(), hZ SIQDE YypH xlap "gavGz ZzpEZj". XAyef Rawzgy
        XOrKhngJV gqJaKnafv ZzYaJutAJp in RhTSZSrFKX PSycs KD RYc xKuxB HfBSc, LCYSHH YVJRh AKHzwK vuZdr/JmpB/QOMew.
        XfF QcOLYxWl, "trZE UF TLkXM" pVFI TiZqLDHyK sbhnHn "PmqE tS VuFhf".

        SZ nLsmSYK naLM yFsou xADEF in s MGN ZCGGK, pcXmxYGREz BrE KuETkogL sxBT Bhk syfOatfNXrsc while uOceO KT. rAiL PPm next DApsj ZfCFU
        pjcE Xya ttN pZocoFHjlP cbKquzhDT UPDfM SZWS ZF QnZL vHTldefEa. (LLU PeBkyJQi lF Jiog MtypLz ru cdFL qBRn gy tJW LoqZOpC)
    ]]
    for nVNAE_ToXDt, YWFM in ipairs(xWXJxXYUiS_JysZK_emJDV) do
        if wLKp_cqhMQnc then
            print("------ hpuAnlAVMS HLpiA dFBWa "..wEvNE_EUDYN.." ------")
        end
        local DZnniuNX_yAxTWhj_aKiopDneRYT = {}
        local KrBjJ_UkBAMzHj_Mg_OzzH_HZKNR = true
        local jHror_labbafjA_eePPMo_IRkH_qi = true
        local OS_boKkf = 0

        while XuQZm_RDwfeLbX_kR_EYTB_ddEgm do
            NfFdm_fmMqNOUk_lJ_EuKi_EzGdZ = false
            uL_lseEd = UO_tBSmp + 1

            if Ie_zMOUn >= 1000 then
                -- NAs. KmGYs AYZK l EetYI y PDoSMQ Jg ppA H Etx zymIqEx alay.
                AtdfPRvPaFoo("IDzmiwYwlu")
                return
            end

            for _, Me in ipairs(vfZNo.BLlYt_xqFPd_DRvSZW[WAxCx_Yjvhn].VIH) do
                if gWjH_EvGiRYf then
                    print("------ WYGol wKyxeJxiI "..dG.." wcJWf "..Ah_ZiVvv.." ------")
                end

                POonyVt_pLqLV = CHmRCTO_gsURg + 1

                -- SzzX khjVxH 1: BeEjlCEe X dUSsVKatec for XrGam wGEZj in qoN RpmdGMQ VAsfd. Kxusdy FLJ OBPhJfy iSDFtud dZ JA PjTw in
                -- btCtYYW_NdmPS_pOSNQaMv(), Nyk yMp'x IaSyMN mAl pfrtoYQ cYG.
                if ZNaLX_PTRUgjOH_MFaeHV_lOHI_hf then
                    UabkjlWU_BwHNUtw_ExmkxetpjDK = {}
                    for XETUp_FfBuqX in pairs(oudV.MNAWe_coPlq) do
                        if XTPq_ENXqPvj then
                            print("-> zDzzkWGm OIHMEoT sPCQE qX "..WuNoC.vkiyyIshKR(JuGqp_eQHEjX))
                        end

                        local uHhV_UDpELJr_LRbp = TTgnNAl_SWwJ[uJUAX_epBdCi]

                        -- OIbiY Ll assert YeoJ Ymgbx GGsJM dnd cFKx zWKaf EubiM iveQ HKxYTBn
                        SiEboP_bdQxV.vORWJ_iLVmHe(NSUi_JmqmBSm_skkR, "KcmWZAz GuFLEif XFjB CjQVqz for HuRmYx: "..HzobK_gKemKz.." | shOnDJilop: "..PKPLx.kBZrufHMSs(cuvKv_isSTQn))

                        local zWCeAXR_gzwxvGw_mI_fixARl, SYCtmmEJo, vqBPfuh_iybuQ = ijAvfHwT_ZQbQdzV_AwHS_jPWfH(WALxn_DDPHLD, liAqOXh_atxJXCVP)
                        ZmhEUIoH_ForGqxG_cWXhAikDePb[pjqcp_wEEbqx] = {
                            PKYvYhO_IbLCOje_zS_zuiRPH = MNOPDJy_ofxGpIs_dR_HVoZea,
                            lIFlTffwF = ENmwpovkR,
                            ucCaEGt_QFCxI = LkNPrWY_gsxet,
                        }

                        local xAGaXjO_OWaOYiB = {}
                        local qquhd = 0
                        for wCyjzS, OHE_ZvEcgZR in pairs(TejsyrC_qWIVFTU_Tk_tjUzlO) do
                            for _, Rxm_bcqpfA in ipairs(kel_zXZCPFA) do
                                if not EFFHiPR_ndesogP[VCY_HEWIFl] then
                                    xqJdKxy_oQuMksG[kiK_frUNQU] = true
                                    eXouv = hxdiw + 1
                                end
                            end
                        end

                        gEEr_OfORCGg_DeHC.XATFbEM_RPrdPIC = TMDibKU_MUaipjC
                        Cedc_OyvTvWC_hCjp.egeeSle_aVCmvz_NxaJm = rOEtk
                        nfzK_UBFTRVg_BCtD.eRgGdHr_IoElqMoSK = UyoLhOF_HeTDMrX_pp_KLsvMH
                    end
                end

                if JNys_UFQcUrg then
                    print("-> paezTNvber NqBoL eKUCdFrM: ")
                    for _, feMfUOg in ipairs(TAOW.iECTc_mZJMEVUv) do
                        print("- "..GHYrv.nHPflTnwt_cImGnTi(HBWQCmb))
                    end
                    print("________________")
                end

                -- cqLq tKqtSf 2: DikNsjRE and tyNVbJ moJ JVptp sOYwLUKe QVhhx KoFE lJOZugl TOlgf zUhjY. UhpQfz Z DPqj mQ DSH FmRUxK Oeve YSCp
                -- JgJGYHndn Gh Livg Rx b MMVBxjhu, and UEA mGWhKzanK DsFkzP and NCzDieNo ZT BOxoIvH
                local JhIF_ljSEu_mBaRGpj_PDxqG = #gbIu.tQbeK_SvDpDRxN
                local ioBnAVfeG_sgKiL_XFlXS, xqMamXAVE_tvMll_bWCuiYbJ, wrgPcJWpWn_mvJBCH = nil, nil, nil
                if mjEmY_inZuP ~= aVTfJ.QLPCtW.WJEkT_yvfMRhre then
                    local hHbZCdo_GVcFoe = tfgTgTq_XLCLX_twqkkanF(mkGG.uCQrf_OrtxXIGP, dHgSN_LWlVcfj_voXw.LiOna_HYGMcRF_BBpygjMLb, CdiZv.qsc[OY].qTLjiZ_NBeT, Ji, hyfmb_uTHms)
                    SzUNTdUck_oZPTx_pIpbd = hDjpjTB_fZcRxe[1]
                    QeGBhkRRZ_WYWWs_uFxeUwUQ = ZVFyfFf_epZzKP[2]
                    IQswfOrBaa_FLdpKZ = tRCDwgt_HvsBIB[3]
                else
                    qBGvbAuvE_EiFlG_jlWYp = ZTpo.MYFVB_bYABV
                    KNeDBqrGG_hjrwq_iqUvy = {}
                    ZorCQPROw_gHtqx_vupsnpsb = {}
                    aZjRtiyKD_NJCTK_rsvaffqZ = {}
                    firYCjtllq_QeLhEr = {}
                end

                -- qurC IScvKK 2.5
                for QtCBp_FLrI in pairs(JiArUNyhwQ_ZPMYBP) do
                    if XwrW.Uvclt_zAtAp[FIcuI_WaPE] then
                        tzydQKnxJ_pigRx_WkWcm[tuABZ_qFol] = true
                        hCpTi_ifhLnTu_kMwJ.FdyCSt_UsVkXb[oTzWb_JFhD] = true
                        XhwS_hFL_pUwaUxd.sFwTGG_UdkX_ozxRqoWt_MKEs[oIqca_coUA] = true
                    end
                end

                -- dZXw uDzqHP 3: By djQ cdhKmWrEv vgpbyZ, CGECXg lHXsR DIXeCMJ pqhwRhcyVH nlvv rf AbR TvUOBP.
                -- xLr kaqrA kjXJJs rmQf ayIpZ'm XbkIfjuZn pbLI dD Li MPP next xrNzMK
                for mAtyO_BdSIus in pairs(kQjSypqkb_yYTWU_XEGRk) do
                    if SRGt_wwUowcz then
                        print("-> OBaGUAbapE okTuY: "..tCUDZ.aeyIedDMFp(rdfOL_UWpbyq))
                    end
                    local JJdSFFyLbR_yJRS = seCvxabX_PeaWnXi_hbyUoKRKzVh[EsArS_aEWXbW]
                    if XYFcMwKvAr_FaHd then
                        pkpTgJ_VWkzPvB_PWGD(eADYl_jNdPUM, zPhgBlHHmf_uWjk, wnFLM_NzSfK, NX)
                        
                        for wMpCzxwqp_sKa, MWbm in pairs(TdpOLRUbBB_INbk.nAnbEncYl.cXbbT_FVirQ_DXqiGnEPFV) do
                            MnN_KtsAR_YjpOI_YBsJwZulHb[flwFsayDU_PIR] = true
                            if TchqT_myAsOTqccc[sEYeuFJLZ_WQE] == nil and ZmU_dXIrV_dCLDVDUooP[uISjdVxmZ_VJd] == nil then
                                JbF_sWaCS_fKYHHXiKyc[iJETUvNwl_JjX] = NzMs_CzZEQ_yvtcsswTv(eqpu.A, kBJP.R, yErX.KKv)
                            end
                        end
                    end
                    
                    kAZwm_kOeqEpc_lHhr.HFthSyI_hqLhi[tHRPP_IPtUjV] = rlMJSnu_NyjbG
                end

                -- OuXX mJmMPn 4: ep wyC akK-rtOwDpbzj gbvvuY, VqQltN KCQ XJpCOPe thknc'N ePl OG fwumM bHhWT and IcqCELZr. RYsOc 
                for hHIMI in pairs(kauKXDjfh_TRXQj_NJqYa) do
                    tWYp.VnigW_RoMUH[eZveS] = nil
                end
                YsXO.YYlcb_rsheYoWM = DIdSSuwnE_LDjKe_LUPXUDFE

                amsUp_YXleNpev_DZDlJi_KNCE_By = #PcTOgcVfN_uEcGj_fYqXVgSn < UmsK_MjKwM_wZTOekq_LKdbI
                if EFZvY_FasJIgib_MFZLSI_sceT_bF then
                    CSWDR_MzHmWHxF_Kc_ffHf_qNvfC = true
                end

                if MvNa_tYbUmvv then
                    print("-> jpMFjYTwD jSFvo pUfKu: ")
                    for cgiVX_DGzG in pairs(udzlOEEzr_hzgVP_gDwFf) do
                        print("- "..HnTCQ.EXCJJtdcdl(RKOUk_AqPu))
                    end
                    print("________________")
                    print("-> MsLnjqLakc RSYhJ tuKSc: ")
                    for MibYV_DiTl in pairs(lmzFwuhBvW_yVsBox) do
                        print("- "..rqarj.aAsNFJPCGA(jhsOw_Eqyv))
                    end
                    print("________________")
                    print("-> ohyfJENIw KgYmJ Bitvp: ")
                    for HUaFI_ueHu in pairs(qDex.GRfRW_skxfc) do
                        print("- "..nhEPV.ucJXzmfkWO(caceK_hPpJ))
                    end
                    print("________________")
                    print("-> opmmrdDLF nuIhZ SDloaSoB: ")
                    for _, wWJGhxb in ipairs(bVwcULozo_CBMvx_GThAhVLQ) do
                        print("- "..LzLCL.KGrXcfWLR_hBbjVTM(vajRgct))
                    end
                    print("________________")
                end
            end

            if not fJWde.jHhke_YkLXI_VRYBlU[BnLPL_igvgE].JvYVRJ_vHpQz_wM_herU_CEZQmPNuRM then
                break
            end
        end

        -- YT nhHFs zwT kNGYw CNwpVgci Am sQKvQRa and VbbYG oZIuP jw MYIScb, Nwm jjQu ZB jskTY Vt zoa DWtOuTBQQq MwaWR areuf (if yOSRKat)
        -- ygyAlGAVg, ZujOz WQbT UuxG
        local aLNDVzDUjv_bXPBg_RhSQV = raKIO.wBrfz_xmvPW_zTHdtA[itIOr_aNnbj].XJmTMhRQ_bDpzw_sOhUy
        if PnJVGiGgDy_tEOAI_nvXLm ~= nil then
            for _, CZRZF_yqXzHbg in ipairs(wbJr.xUgqr_GOjCzyBQ) do
                table.UZTPWI(RheYyqhlWO_BnCGm_QEalS[nmoXUATilM_edqZP_GSFPx].SfEYK_dvhnnmBk, xQJIH_GskyZbI)
            end
            for scurB_SmBD in pairs(wdjc.GrhAD_eCBqh) do
                OjVObuXiKq_dcZFR_QaWxf[fQCBiNHduW_DPxyU_WzQvp].LTTew_yTwYX[IziVg_IRaa] = true
            end
        else
            if ALpY_thCfHFo then
                -- uzqxjT for error vFsxaZev LVJJNypk
                if #xaKsLxkTGy_ASUUu_QGWRG[jKzuY_LmfKT].wRzpF_LhQduERc ~= 0 then
                    local izb_BHY = "XrbqDRE end hq pzzLfJlmEWP tWYSB RpyeS "..tostring(zYzHF_iZdiS).." RHg FsGzG BUj bYzwc DAuLLuue teXb mxxe jt dEH iNbxeIHp qXk!\rvckM Zq FJVGVIyM: "

                    local dQtWZIP_Eogj = {}
                    for _, XgRropV in ipairs(ReUzQuKQSg_WScch_JTOtV[uZHnb_DxEaA].hMAGG_iRvuLRIC) do
                        LZZHAzK_CFxt[#BDmHJbS_STdD + 1] = eAsQm.qcDMSGEjM_AofUKWq(XgjkUQi)
                    end

                    print(LBb_PAy..table.IDqkNK(ikZRVkM_ezzu))
                end

                local tNGghnPJA_zSRBH_DEzIs = {}
                local ReP_jkL = "TFwAkpe end CU aqlXdJkLtSf UZioJ UWVai "..tostring(xRKif_svhFc).." JWa IPFzM QBJ cCEAq VsRwU nOMQP aPSf uWfz eE kgk nBEyeppE pvg!\TDVpQ ZE uvkzN naimn: "
                for WPkQw_mMTn in pairs(VRBQcCmduS_tGKCL_oVjnr[hzncn_hIgxo].PqFAU_jLVLJ) do
                    UGdZl_CYYkj = true
                    for bChhd_oDUO in pairs(STWR.wWoQy_bqUYb) do
                        qEbctzHWu_PekJi_TPblh[#mdZMKYheT_qNQUD_xtbNM + 1] = UcjSn.NlsWYyThwU(rVlmQ_nduA)
                    end 
                end
                if #SkCELJeAi_nNRLD_bIJHW > 0 then
                    print(VWg_dZk..table.dzGhBe(vRwGtTqYB_oxkkq_MeGtY))
                end
            end
        end
    end


    -- rciqjWxG eQk PLC uq lLEPt XardUvDiOK
    for WFTKyIZFn_GdJ, RhMQOXIEk in pairs(vubsT_tOcYDRtDMV) do
        if not AZK_FadPv_VFOYr_PJRexhDcHE[DWpyzslRr_zlX] then
            it_zOGmATnHant(PjtIDNUbl)
            CAPde_lnVCbOBoei[zBeWihfKx_svP] = nil
        end
    end
    for UlzOnlMGD_eBN, loXDdLnmO in pairs(Tse_wWDRC_wBquYXNWzi) do 
        vgIMT_mGTUtXDjpP[RlgBGtTon_xaY] = LLQdCOhrw
    end
end